(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const t of r)if(t.type==="childList")for(const u of t.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function n(r){const t={};return r.integrity&&(t.integrity=r.integrity),r.referrerPolicy&&(t.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?t.credentials="include":r.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(r){if(r.ep)return;r.ep=!0;const t=n(r);fetch(r.href,t)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var indexMinimal={},minimal$1={},aspromise,hasRequiredAspromise;function requireAspromise(){if(hasRequiredAspromise)return aspromise;hasRequiredAspromise=1,aspromise=e;function e(i,n){for(var o=new Array(arguments.length-1),r=0,t=2,u=!0;t<arguments.length;)o[r++]=arguments[t++];return new Promise(function(l,c){o[r]=function(f){if(u)if(u=!1,f)c(f);else{for(var d=new Array(arguments.length-1),m=0;m<d.length;)d[m++]=arguments[m];l.apply(null,d)}};try{i.apply(n||null,o)}catch(g){u&&(u=!1,c(g))}})}return aspromise}var base64={},hasRequiredBase64;function requireBase64(){return hasRequiredBase64||(hasRequiredBase64=1,function(e){var i=e;i.length=function(a){var l=a.length;if(!l)return 0;for(var c=0;--l%4>1&&a.charAt(l)==="=";)++c;return Math.ceil(a.length*3)/4-c};for(var n=new Array(64),o=new Array(123),r=0;r<64;)o[n[r]=r<26?r+65:r<52?r+71:r<62?r-4:r-59|43]=r++;i.encode=function(a,l,c){for(var g=null,f=[],d=0,m=0,s;l<c;){var S=a[l++];switch(m){case 0:f[d++]=n[S>>2],s=(S&3)<<4,m=1;break;case 1:f[d++]=n[s|S>>4],s=(S&15)<<2,m=2;break;case 2:f[d++]=n[s|S>>6],f[d++]=n[S&63],m=0;break}d>8191&&((g||(g=[])).push(String.fromCharCode.apply(String,f)),d=0)}return m&&(f[d++]=n[s],f[d++]=61,m===1&&(f[d++]=61)),g?(d&&g.push(String.fromCharCode.apply(String,f.slice(0,d))),g.join("")):String.fromCharCode.apply(String,f.slice(0,d))};var t="invalid encoding";i.decode=function(a,l,c){for(var g=c,f=0,d,m=0;m<a.length;){var s=a.charCodeAt(m++);if(s===61&&f>1)break;if((s=o[s])===void 0)throw Error(t);switch(f){case 0:d=s,f=1;break;case 1:l[c++]=d<<2|(s&48)>>4,d=s,f=2;break;case 2:l[c++]=(d&15)<<4|(s&60)>>2,d=s,f=3;break;case 3:l[c++]=(d&3)<<6|s,f=0;break}}if(f===1)throw Error(t);return c-g},i.test=function(a){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(a)}}(base64)),base64}var eventemitter,hasRequiredEventemitter;function requireEventemitter(){if(hasRequiredEventemitter)return eventemitter;hasRequiredEventemitter=1,eventemitter=e;function e(){this._listeners={}}return e.prototype.on=function(n,o,r){return(this._listeners[n]||(this._listeners[n]=[])).push({fn:o,ctx:r||this}),this},e.prototype.off=function(n,o){if(n===void 0)this._listeners={};else if(o===void 0)this._listeners[n]=[];else for(var r=this._listeners[n],t=0;t<r.length;)r[t].fn===o?r.splice(t,1):++t;return this},e.prototype.emit=function(n){var o=this._listeners[n];if(o){for(var r=[],t=1;t<arguments.length;)r.push(arguments[t++]);for(t=0;t<o.length;)o[t].fn.apply(o[t++].ctx,r)}return this},eventemitter}var float,hasRequiredFloat;function requireFloat(){if(hasRequiredFloat)return float;hasRequiredFloat=1,float=e(e);function e(t){return typeof Float32Array<"u"?function(){var u=new Float32Array([-0]),a=new Uint8Array(u.buffer),l=a[3]===128;function c(m,s,S){u[0]=m,s[S]=a[0],s[S+1]=a[1],s[S+2]=a[2],s[S+3]=a[3]}function g(m,s,S){u[0]=m,s[S]=a[3],s[S+1]=a[2],s[S+2]=a[1],s[S+3]=a[0]}t.writeFloatLE=l?c:g,t.writeFloatBE=l?g:c;function f(m,s){return a[0]=m[s],a[1]=m[s+1],a[2]=m[s+2],a[3]=m[s+3],u[0]}function d(m,s){return a[3]=m[s],a[2]=m[s+1],a[1]=m[s+2],a[0]=m[s+3],u[0]}t.readFloatLE=l?f:d,t.readFloatBE=l?d:f}():function(){function u(l,c,g,f){var d=c<0?1:0;if(d&&(c=-c),c===0)l(1/c>0?0:2147483648,g,f);else if(isNaN(c))l(2143289344,g,f);else if(c>34028234663852886e22)l((d<<31|2139095040)>>>0,g,f);else if(c<11754943508222875e-54)l((d<<31|Math.round(c/1401298464324817e-60))>>>0,g,f);else{var m=Math.floor(Math.log(c)/Math.LN2),s=Math.round(c*Math.pow(2,-m)*8388608)&8388607;l((d<<31|m+127<<23|s)>>>0,g,f)}}t.writeFloatLE=u.bind(null,i),t.writeFloatBE=u.bind(null,n);function a(l,c,g){var f=l(c,g),d=(f>>31)*2+1,m=f>>>23&255,s=f&8388607;return m===255?s?NaN:d*(1/0):m===0?d*1401298464324817e-60*s:d*Math.pow(2,m-150)*(s+8388608)}t.readFloatLE=a.bind(null,o),t.readFloatBE=a.bind(null,r)}(),typeof Float64Array<"u"?function(){var u=new Float64Array([-0]),a=new Uint8Array(u.buffer),l=a[7]===128;function c(m,s,S){u[0]=m,s[S]=a[0],s[S+1]=a[1],s[S+2]=a[2],s[S+3]=a[3],s[S+4]=a[4],s[S+5]=a[5],s[S+6]=a[6],s[S+7]=a[7]}function g(m,s,S){u[0]=m,s[S]=a[7],s[S+1]=a[6],s[S+2]=a[5],s[S+3]=a[4],s[S+4]=a[3],s[S+5]=a[2],s[S+6]=a[1],s[S+7]=a[0]}t.writeDoubleLE=l?c:g,t.writeDoubleBE=l?g:c;function f(m,s){return a[0]=m[s],a[1]=m[s+1],a[2]=m[s+2],a[3]=m[s+3],a[4]=m[s+4],a[5]=m[s+5],a[6]=m[s+6],a[7]=m[s+7],u[0]}function d(m,s){return a[7]=m[s],a[6]=m[s+1],a[5]=m[s+2],a[4]=m[s+3],a[3]=m[s+4],a[2]=m[s+5],a[1]=m[s+6],a[0]=m[s+7],u[0]}t.readDoubleLE=l?f:d,t.readDoubleBE=l?d:f}():function(){function u(l,c,g,f,d,m){var s=f<0?1:0;if(s&&(f=-f),f===0)l(0,d,m+c),l(1/f>0?0:2147483648,d,m+g);else if(isNaN(f))l(0,d,m+c),l(2146959360,d,m+g);else if(f>17976931348623157e292)l(0,d,m+c),l((s<<31|2146435072)>>>0,d,m+g);else{var S;if(f<22250738585072014e-324)S=f/5e-324,l(S>>>0,d,m+c),l((s<<31|S/4294967296)>>>0,d,m+g);else{var h=Math.floor(Math.log(f)/Math.LN2);h===1024&&(h=1023),S=f*Math.pow(2,-h),l(S*4503599627370496>>>0,d,m+c),l((s<<31|h+1023<<20|S*1048576&1048575)>>>0,d,m+g)}}}t.writeDoubleLE=u.bind(null,i,0,4),t.writeDoubleBE=u.bind(null,n,4,0);function a(l,c,g,f,d){var m=l(f,d+c),s=l(f,d+g),S=(s>>31)*2+1,h=s>>>20&2047,p=4294967296*(s&1048575)+m;return h===2047?p?NaN:S*(1/0):h===0?S*5e-324*p:S*Math.pow(2,h-1075)*(p+4503599627370496)}t.readDoubleLE=a.bind(null,o,0,4),t.readDoubleBE=a.bind(null,r,4,0)}(),t}function i(t,u,a){u[a]=t&255,u[a+1]=t>>>8&255,u[a+2]=t>>>16&255,u[a+3]=t>>>24}function n(t,u,a){u[a]=t>>>24,u[a+1]=t>>>16&255,u[a+2]=t>>>8&255,u[a+3]=t&255}function o(t,u){return(t[u]|t[u+1]<<8|t[u+2]<<16|t[u+3]<<24)>>>0}function r(t,u){return(t[u]<<24|t[u+1]<<16|t[u+2]<<8|t[u+3])>>>0}return float}var inquire_1,hasRequiredInquire;function requireInquire(){if(hasRequiredInquire)return inquire_1;hasRequiredInquire=1,inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}return inquire_1}var utf8={},hasRequiredUtf8;function requireUtf8(){return hasRequiredUtf8||(hasRequiredUtf8=1,function(e){var i=e;i.length=function(o){for(var r=0,t=0,u=0;u<o.length;++u)t=o.charCodeAt(u),t<128?r+=1:t<2048?r+=2:(t&64512)===55296&&(o.charCodeAt(u+1)&64512)===56320?(++u,r+=4):r+=3;return r},i.read=function(o,r,t){var u=t-r;if(u<1)return"";for(var a=null,l=[],c=0,g;r<t;)g=o[r++],g<128?l[c++]=g:g>191&&g<224?l[c++]=(g&31)<<6|o[r++]&63:g>239&&g<365?(g=((g&7)<<18|(o[r++]&63)<<12|(o[r++]&63)<<6|o[r++]&63)-65536,l[c++]=55296+(g>>10),l[c++]=56320+(g&1023)):l[c++]=(g&15)<<12|(o[r++]&63)<<6|o[r++]&63,c>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,l)),c=0);return a?(c&&a.push(String.fromCharCode.apply(String,l.slice(0,c))),a.join("")):String.fromCharCode.apply(String,l.slice(0,c))},i.write=function(o,r,t){for(var u=t,a,l,c=0;c<o.length;++c)a=o.charCodeAt(c),a<128?r[t++]=a:a<2048?(r[t++]=a>>6|192,r[t++]=a&63|128):(a&64512)===55296&&((l=o.charCodeAt(c+1))&64512)===56320?(a=65536+((a&1023)<<10)+(l&1023),++c,r[t++]=a>>18|240,r[t++]=a>>12&63|128,r[t++]=a>>6&63|128,r[t++]=a&63|128):(r[t++]=a>>12|224,r[t++]=a>>6&63|128,r[t++]=a&63|128);return t-u}}(utf8)),utf8}var pool_1,hasRequiredPool;function requirePool(){if(hasRequiredPool)return pool_1;hasRequiredPool=1,pool_1=e;function e(i,n,o){var r=o||8192,t=r>>>1,u=null,a=r;return function(c){if(c<1||c>t)return i(c);a+c>r&&(u=i(r),a=0);var g=n.call(u,a,a+=c);return a&7&&(a=(a|7)+1),g}}return pool_1}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=i;var e=requireMinimal$1();function i(t,u){this.lo=t>>>0,this.hi=u>>>0}var n=i.zero=new i(0,0);n.toNumber=function(){return 0},n.zzEncode=n.zzDecode=function(){return this},n.length=function(){return 1};var o=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(u){if(u===0)return n;var a=u<0;a&&(u=-u);var l=u>>>0,c=(u-l)/4294967296>>>0;return a&&(c=~c>>>0,l=~l>>>0,++l>4294967295&&(l=0,++c>4294967295&&(c=0))),new i(l,c)},i.from=function(u){if(typeof u=="number")return i.fromNumber(u);if(e.isString(u))if(e.Long)u=e.Long.fromString(u);else return i.fromNumber(parseInt(u,10));return u.low||u.high?new i(u.low>>>0,u.high>>>0):n},i.prototype.toNumber=function(u){if(!u&&this.hi>>>31){var a=~this.lo+1>>>0,l=~this.hi>>>0;return a||(l=l+1>>>0),-(a+l*4294967296)}return this.lo+this.hi*4294967296},i.prototype.toLong=function(u){return e.Long?new e.Long(this.lo|0,this.hi|0,!!u):{low:this.lo|0,high:this.hi|0,unsigned:!!u}};var r=String.prototype.charCodeAt;return i.fromHash=function(u){return u===o?n:new i((r.call(u,0)|r.call(u,1)<<8|r.call(u,2)<<16|r.call(u,3)<<24)>>>0,(r.call(u,4)|r.call(u,5)<<8|r.call(u,6)<<16|r.call(u,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var u=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^u)>>>0,this.lo=(this.lo<<1^u)>>>0,this},i.prototype.zzDecode=function(){var u=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^u)>>>0,this.hi=(this.hi>>>1^u)>>>0,this},i.prototype.length=function(){var u=this.lo,a=(this.lo>>>28|this.hi<<4)>>>0,l=this.hi>>>24;return l===0?a===0?u<16384?u<128?1:2:u<2097152?3:4:a<16384?a<128?5:6:a<2097152?7:8:l<128?9:10},longbits}var hasRequiredMinimal$1;function requireMinimal$1(){return hasRequiredMinimal$1||(hasRequiredMinimal$1=1,function(e){var i=e;i.asPromise=requireAspromise(),i.base64=requireBase64(),i.EventEmitter=requireEventemitter(),i.float=requireFloat(),i.inquire=requireInquire(),i.utf8=requireUtf8(),i.pool=requirePool(),i.LongBits=requireLongbits(),i.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),i.global=i.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||minimal$1,i.emptyArray=Object.freeze?Object.freeze([]):[],i.emptyObject=Object.freeze?Object.freeze({}):{},i.isInteger=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t},i.isString=function(t){return typeof t=="string"||t instanceof String},i.isObject=function(t){return t&&typeof t=="object"},i.isset=i.isSet=function(t,u){var a=t[u];return a!=null&&t.hasOwnProperty(u)?typeof a!="object"||(Array.isArray(a)?a.length:Object.keys(a).length)>0:!1},i.Buffer=function(){try{var r=i.inquire("buffer").Buffer;return r.prototype.utf8Write?r:null}catch{return null}}(),i._Buffer_from=null,i._Buffer_allocUnsafe=null,i.newBuffer=function(t){return typeof t=="number"?i.Buffer?i._Buffer_allocUnsafe(t):new i.Array(t):i.Buffer?i._Buffer_from(t):typeof Uint8Array>"u"?t:new Uint8Array(t)},i.Array=typeof Uint8Array<"u"?Uint8Array:Array,i.Long=i.global.dcodeIO&&i.global.dcodeIO.Long||i.global.Long||i.inquire("long"),i.key2Re=/^true|false|0|1$/,i.key32Re=/^-?(?:0|[1-9][0-9]*)$/,i.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,i.longToHash=function(t){return t?i.LongBits.from(t).toHash():i.LongBits.zeroHash},i.longFromHash=function(t,u){var a=i.LongBits.fromHash(t);return i.Long?i.Long.fromBits(a.lo,a.hi,u):a.toNumber(!!u)};function n(r,t,u){for(var a=Object.keys(t),l=0;l<a.length;++l)(r[a[l]]===void 0||!u)&&(r[a[l]]=t[a[l]]);return r}i.merge=n,i.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)};function o(r){function t(u,a){if(!(this instanceof t))return new t(u,a);Object.defineProperty(this,"message",{get:function(){return u}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:new Error().stack||""}),a&&n(this,a)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return r},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}i.newError=o,i.ProtocolError=o("ProtocolError"),i.oneOfGetter=function(t){for(var u={},a=0;a<t.length;++a)u[t[a]]=1;return function(){for(var l=Object.keys(this),c=l.length-1;c>-1;--c)if(u[l[c]]===1&&this[l[c]]!==void 0&&this[l[c]]!==null)return l[c]}},i.oneOfSetter=function(t){return function(u){for(var a=0;a<t.length;++a)t[a]!==u&&delete this[t[a]]}},i.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},i._configure=function(){var r=i.Buffer;if(!r){i._Buffer_from=i._Buffer_allocUnsafe=null;return}i._Buffer_from=r.from!==Uint8Array.from&&r.from||function(u,a){return new r(u,a)},i._Buffer_allocUnsafe=r.allocUnsafe||function(u){return new r(u)}}}(minimal$1)),minimal$1}var writer,hasRequiredWriter;function requireWriter(){if(hasRequiredWriter)return writer;hasRequiredWriter=1,writer=l;var e=requireMinimal$1(),i,n=e.LongBits,o=e.base64,r=e.utf8;function t(h,p,y){this.fn=h,this.len=p,this.next=void 0,this.val=y}function u(){}function a(h){this.head=h.head,this.tail=h.tail,this.len=h.len,this.next=h.states}function l(){this.len=0,this.head=new t(u,0,0),this.tail=this.head,this.states=null}var c=function(){return e.Buffer?function(){return(l.create=function(){return new i})()}:function(){return new l}};l.create=c(),l.alloc=function(p){return new e.Array(p)},e.Array!==Array&&(l.alloc=e.pool(l.alloc,e.Array.prototype.subarray)),l.prototype._push=function(p,y,b){return this.tail=this.tail.next=new t(p,y,b),this.len+=y,this};function g(h,p,y){p[y]=h&255}function f(h,p,y){for(;h>127;)p[y++]=h&127|128,h>>>=7;p[y]=h}function d(h,p){this.len=h,this.next=void 0,this.val=p}d.prototype=Object.create(t.prototype),d.prototype.fn=f,l.prototype.uint32=function(p){return this.len+=(this.tail=this.tail.next=new d((p=p>>>0)<128?1:p<16384?2:p<2097152?3:p<268435456?4:5,p)).len,this},l.prototype.int32=function(p){return p<0?this._push(m,10,n.fromNumber(p)):this.uint32(p)},l.prototype.sint32=function(p){return this.uint32((p<<1^p>>31)>>>0)};function m(h,p,y){for(;h.hi;)p[y++]=h.lo&127|128,h.lo=(h.lo>>>7|h.hi<<25)>>>0,h.hi>>>=7;for(;h.lo>127;)p[y++]=h.lo&127|128,h.lo=h.lo>>>7;p[y++]=h.lo}l.prototype.uint64=function(p){var y=n.from(p);return this._push(m,y.length(),y)},l.prototype.int64=l.prototype.uint64,l.prototype.sint64=function(p){var y=n.from(p).zzEncode();return this._push(m,y.length(),y)},l.prototype.bool=function(p){return this._push(g,1,p?1:0)};function s(h,p,y){p[y]=h&255,p[y+1]=h>>>8&255,p[y+2]=h>>>16&255,p[y+3]=h>>>24}l.prototype.fixed32=function(p){return this._push(s,4,p>>>0)},l.prototype.sfixed32=l.prototype.fixed32,l.prototype.fixed64=function(p){var y=n.from(p);return this._push(s,4,y.lo)._push(s,4,y.hi)},l.prototype.sfixed64=l.prototype.fixed64,l.prototype.float=function(p){return this._push(e.float.writeFloatLE,4,p)},l.prototype.double=function(p){return this._push(e.float.writeDoubleLE,8,p)};var S=e.Array.prototype.set?function(p,y,b){y.set(p,b)}:function(p,y,b){for(var _=0;_<p.length;++_)y[b+_]=p[_]};return l.prototype.bytes=function(p){var y=p.length>>>0;if(!y)return this._push(g,1,0);if(e.isString(p)){var b=l.alloc(y=o.length(p));o.decode(p,b,0),p=b}return this.uint32(y)._push(S,y,p)},l.prototype.string=function(p){var y=r.length(p);return y?this.uint32(y)._push(r.write,y,p):this._push(g,1,0)},l.prototype.fork=function(){return this.states=new a(this),this.head=this.tail=new t(u,0,0),this.len=0,this},l.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new t(u,0,0),this.len=0),this},l.prototype.ldelim=function(){var p=this.head,y=this.tail,b=this.len;return this.reset().uint32(b),b&&(this.tail.next=p.next,this.tail=y,this.len+=b),this},l.prototype.finish=function(){for(var p=this.head.next,y=this.constructor.alloc(this.len),b=0;p;)p.fn(p.val,y,b),b+=p.len,p=p.next;return y},l._configure=function(h){i=h,l.create=c(),i._configure()},writer}var writer_buffer,hasRequiredWriter_buffer;function requireWriter_buffer(){if(hasRequiredWriter_buffer)return writer_buffer;hasRequiredWriter_buffer=1,writer_buffer=n;var e=requireWriter();(n.prototype=Object.create(e.prototype)).constructor=n;var i=requireMinimal$1();function n(){e.call(this)}n._configure=function(){n.alloc=i._Buffer_allocUnsafe,n.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&i.Buffer.prototype.set.name==="set"?function(t,u,a){u.set(t,a)}:function(t,u,a){if(t.copy)t.copy(u,a,0,t.length);else for(var l=0;l<t.length;)u[a++]=t[l++]}},n.prototype.bytes=function(t){i.isString(t)&&(t=i._Buffer_from(t,"base64"));var u=t.length>>>0;return this.uint32(u),u&&this._push(n.writeBytesBuffer,u,t),this};function o(r,t,u){r.length<40?i.utf8.write(r,t,u):t.utf8Write?t.utf8Write(r,u):t.write(r,u)}return n.prototype.string=function(t){var u=i.Buffer.byteLength(t);return this.uint32(u),u&&this._push(o,u,t),this},n._configure(),writer_buffer}var reader,hasRequiredReader;function requireReader(){if(hasRequiredReader)return reader;hasRequiredReader=1,reader=t;var e=requireMinimal$1(),i,n=e.LongBits,o=e.utf8;function r(f,d){return RangeError("index out of range: "+f.pos+" + "+(d||1)+" > "+f.len)}function t(f){this.buf=f,this.pos=0,this.len=f.length}var u=typeof Uint8Array<"u"?function(d){if(d instanceof Uint8Array||Array.isArray(d))return new t(d);throw Error("illegal buffer")}:function(d){if(Array.isArray(d))return new t(d);throw Error("illegal buffer")},a=function(){return e.Buffer?function(m){return(t.create=function(S){return e.Buffer.isBuffer(S)?new i(S):u(S)})(m)}:u};t.create=a(),t.prototype._slice=e.Array.prototype.subarray||e.Array.prototype.slice,t.prototype.uint32=function(){var d=4294967295;return function(){if(d=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(d=(d|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(d=(d|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(d=(d|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(d=(d|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return d;if((this.pos+=5)>this.len)throw this.pos=this.len,r(this,10);return d}}(),t.prototype.int32=function(){return this.uint32()|0},t.prototype.sint32=function(){var d=this.uint32();return d>>>1^-(d&1)|0};function l(){var f=new n(0,0),d=0;if(this.len-this.pos>4){for(;d<4;++d)if(f.lo=(f.lo|(this.buf[this.pos]&127)<<d*7)>>>0,this.buf[this.pos++]<128)return f;if(f.lo=(f.lo|(this.buf[this.pos]&127)<<28)>>>0,f.hi=(f.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return f;d=0}else{for(;d<3;++d){if(this.pos>=this.len)throw r(this);if(f.lo=(f.lo|(this.buf[this.pos]&127)<<d*7)>>>0,this.buf[this.pos++]<128)return f}return f.lo=(f.lo|(this.buf[this.pos++]&127)<<d*7)>>>0,f}if(this.len-this.pos>4){for(;d<5;++d)if(f.hi=(f.hi|(this.buf[this.pos]&127)<<d*7+3)>>>0,this.buf[this.pos++]<128)return f}else for(;d<5;++d){if(this.pos>=this.len)throw r(this);if(f.hi=(f.hi|(this.buf[this.pos]&127)<<d*7+3)>>>0,this.buf[this.pos++]<128)return f}throw Error("invalid varint encoding")}t.prototype.bool=function(){return this.uint32()!==0};function c(f,d){return(f[d-4]|f[d-3]<<8|f[d-2]<<16|f[d-1]<<24)>>>0}t.prototype.fixed32=function(){if(this.pos+4>this.len)throw r(this,4);return c(this.buf,this.pos+=4)},t.prototype.sfixed32=function(){if(this.pos+4>this.len)throw r(this,4);return c(this.buf,this.pos+=4)|0};function g(){if(this.pos+8>this.len)throw r(this,8);return new n(c(this.buf,this.pos+=4),c(this.buf,this.pos+=4))}return t.prototype.float=function(){if(this.pos+4>this.len)throw r(this,4);var d=e.float.readFloatLE(this.buf,this.pos);return this.pos+=4,d},t.prototype.double=function(){if(this.pos+8>this.len)throw r(this,4);var d=e.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,d},t.prototype.bytes=function(){var d=this.uint32(),m=this.pos,s=this.pos+d;if(s>this.len)throw r(this,d);if(this.pos+=d,Array.isArray(this.buf))return this.buf.slice(m,s);if(m===s){var S=e.Buffer;return S?S.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,m,s)},t.prototype.string=function(){var d=this.bytes();return o.read(d,0,d.length)},t.prototype.skip=function(d){if(typeof d=="number"){if(this.pos+d>this.len)throw r(this,d);this.pos+=d}else do if(this.pos>=this.len)throw r(this);while(this.buf[this.pos++]&128);return this},t.prototype.skipType=function(f){switch(f){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(f=this.uint32()&7)!==4;)this.skipType(f);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+f+" at offset "+this.pos)}return this},t._configure=function(f){i=f,t.create=a(),i._configure();var d=e.Long?"toLong":"toNumber";e.merge(t.prototype,{int64:function(){return l.call(this)[d](!1)},uint64:function(){return l.call(this)[d](!0)},sint64:function(){return l.call(this).zzDecode()[d](!1)},fixed64:function(){return g.call(this)[d](!0)},sfixed64:function(){return g.call(this)[d](!1)}})},reader}var reader_buffer,hasRequiredReader_buffer;function requireReader_buffer(){if(hasRequiredReader_buffer)return reader_buffer;hasRequiredReader_buffer=1,reader_buffer=n;var e=requireReader();(n.prototype=Object.create(e.prototype)).constructor=n;var i=requireMinimal$1();function n(o){e.call(this,o)}return n._configure=function(){i.Buffer&&(n.prototype._slice=i.Buffer.prototype.slice)},n.prototype.string=function(){var r=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+r,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+r,this.len))},n._configure(),reader_buffer}var rpc={},service,hasRequiredService;function requireService(){if(hasRequiredService)return service;hasRequiredService=1,service=i;var e=requireMinimal$1();(i.prototype=Object.create(e.EventEmitter.prototype)).constructor=i;function i(n,o,r){if(typeof n!="function")throw TypeError("rpcImpl must be a function");e.EventEmitter.call(this),this.rpcImpl=n,this.requestDelimited=!!o,this.responseDelimited=!!r}return i.prototype.rpcCall=function n(o,r,t,u,a){if(!u)throw TypeError("request must be specified");var l=this;if(!a)return e.asPromise(n,l,o,r,t,u);if(!l.rpcImpl){setTimeout(function(){a(Error("already ended"))},0);return}try{return l.rpcImpl(o,r[l.requestDelimited?"encodeDelimited":"encode"](u).finish(),function(g,f){if(g)return l.emit("error",g,o),a(g);if(f===null){l.end(!0);return}if(!(f instanceof t))try{f=t[l.responseDelimited?"decodeDelimited":"decode"](f)}catch(d){return l.emit("error",d,o),a(d)}return l.emit("data",f,o),a(null,f)})}catch(c){l.emit("error",c,o),setTimeout(function(){a(c)},0);return}},i.prototype.end=function(o){return this.rpcImpl&&(o||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},service}var hasRequiredRpc;function requireRpc(){return hasRequiredRpc||(hasRequiredRpc=1,function(e){var i=e;i.Service=requireService()}(rpc)),rpc}var roots,hasRequiredRoots;function requireRoots(){return hasRequiredRoots||(hasRequiredRoots=1,roots={}),roots}var hasRequiredIndexMinimal;function requireIndexMinimal(){return hasRequiredIndexMinimal||(hasRequiredIndexMinimal=1,function(e){var i=e;i.build="minimal",i.Writer=requireWriter(),i.BufferWriter=requireWriter_buffer(),i.Reader=requireReader(),i.BufferReader=requireReader_buffer(),i.util=requireMinimal$1(),i.rpc=requireRpc(),i.roots=requireRoots(),i.configure=n;function n(){i.util._configure(),i.Writer._configure(i.BufferWriter),i.Reader._configure(i.BufferReader)}n()}(indexMinimal)),indexMinimal}var minimal,hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,minimal=requireIndexMinimal()),minimal}var minimalExports=requireMinimal();const _m0=getDefaultExportFromCjs(minimalExports),messageTypeRegistry$1=new Map;function createBaseWebViewContext(){return{subredditId:"",subredditName:"",userId:"",appName:"",appVersion:"",postId:""}}const WebViewContext={$type:"devvit.ui.effects.web_view.v1alpha.WebViewContext",encode(e,i=_m0.Writer.create()){return e.subredditId!==""&&i.uint32(10).string(e.subredditId),e.subredditName!==""&&i.uint32(18).string(e.subredditName),e.userId!==""&&i.uint32(26).string(e.userId),e.appName!==""&&i.uint32(34).string(e.appName),e.appVersion!==""&&i.uint32(42).string(e.appVersion),e.postId!==""&&i.uint32(50).string(e.postId),i},decode(e,i){const n=e instanceof _m0.Reader?e:_m0.Reader.create(e);let o=i===void 0?n.len:n.pos+i;const r=createBaseWebViewContext();for(;n.pos<o;){const t=n.uint32();switch(t>>>3){case 1:if(t!==10)break;r.subredditId=n.string();continue;case 2:if(t!==18)break;r.subredditName=n.string();continue;case 3:if(t!==26)break;r.userId=n.string();continue;case 4:if(t!==34)break;r.appName=n.string();continue;case 5:if(t!==42)break;r.appVersion=n.string();continue;case 6:if(t!==50)break;r.postId=n.string();continue}if((t&7)===4||t===0)break;n.skipType(t&7)}return r},fromJSON(e){return{subredditId:isSet$8(e.subredditId)?globalThis.String(e.subredditId):"",subredditName:isSet$8(e.subredditName)?globalThis.String(e.subredditName):"",userId:isSet$8(e.userId)?globalThis.String(e.userId):"",appName:isSet$8(e.appName)?globalThis.String(e.appName):"",appVersion:isSet$8(e.appVersion)?globalThis.String(e.appVersion):"",postId:isSet$8(e.postId)?globalThis.String(e.postId):""}},toJSON(e){const i={};return e.subredditId!==""&&(i.subredditId=e.subredditId),e.subredditName!==""&&(i.subredditName=e.subredditName),e.userId!==""&&(i.userId=e.userId),e.appName!==""&&(i.appName=e.appName),e.appVersion!==""&&(i.appVersion=e.appVersion),e.postId!==""&&(i.postId=e.postId),i},create(e){return WebViewContext.fromPartial(e??{})},fromPartial(e){const i=createBaseWebViewContext();return i.subredditId=e.subredditId??"",i.subredditName=e.subredditName??"",i.userId=e.userId??"",i.appName=e.appName??"",i.appVersion=e.appVersion??"",i.postId=e.postId??"",i}};messageTypeRegistry$1.set(WebViewContext.$type,WebViewContext);function isSet$8(e){return e!=null}function assert(e,i){if(!e)throw Error(i)}var T_PREFIX;(function(e){e.COMMENT="t1_",e.ACCOUNT="t2_",e.LINK="t3_",e.MESSAGE="t4_",e.SUBREDDIT="t5_",e.AWARD="t6_"})(T_PREFIX||(T_PREFIX={}));function isT2ID(e){return e.startsWith(T_PREFIX.ACCOUNT)}function isT3ID(e){return e.startsWith(T_PREFIX.LINK)}function isT5ID(e){return e.startsWith(T_PREFIX.SUBREDDIT)}function assertT2ID(e){assert(isT2ID(e),`Expected account id to start with ${T_PREFIX.ACCOUNT}, got ${e}}`)}function assertT3ID(e){assert(isT3ID(e),`Expected link id to start with ${T_PREFIX.LINK}, got ${e}}`)}function assertT5ID(e){assert(isT5ID(e),`Expected subreddit id to start with ${T_PREFIX.SUBREDDIT}, got ${e}}`)}function asT2ID(e){return assertT2ID(e),e}function asT3ID(e){return assertT3ID(e),e}function asT5ID(e){return assertT5ID(e),e}const _initContext=({search:e})=>{const i=new URLSearchParams(e).get("context");if(i){const n=decodeURIComponent(i),o=WebViewContext.fromJSON(JSON.parse(n)),r={subredditId:asT5ID(o.subredditId),userId:asT2ID(o.userId),subredditName:o.subredditName,appName:o.appName,appVersion:o.appVersion,postId:asT3ID(o.postId)};globalThis.devvit={context:r}}};globalThis.location&&_initContext(globalThis.location);new Proxy({},{get:(e,i)=>globalThis.devvit.context[i],ownKeys(){return Object.keys(globalThis.devvit.context)},getOwnPropertyDescriptor(e,i){return{enumerable:!0,configurable:!0,value:globalThis.devvit.context[i]}}});const messageTypeRegistry=new Map;var NullValue;(function(e){e[e.NULL_VALUE=0]="NULL_VALUE",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(NullValue||(NullValue={}));function nullValueFromJSON(e){switch(e){case 0:case"NULL_VALUE":return NullValue.NULL_VALUE;case-1:case"UNRECOGNIZED":default:return NullValue.UNRECOGNIZED}}function nullValueToJSON(e){switch(e){case NullValue.NULL_VALUE:return 0;case NullValue.UNRECOGNIZED:default:return-1}}function createBaseStruct(){return{fields:{}}}const Struct={$type:"google.protobuf.Struct",encode(e,i=_m0.Writer.create()){return Object.entries(e.fields).forEach(([n,o])=>{o!==void 0&&Struct_FieldsEntry.encode({key:n,value:o},i.uint32(10).fork()).ldelim()}),i},decode(e,i){const n=e instanceof _m0.Reader?e:_m0.Reader.create(e);let o=i===void 0?n.len:n.pos+i;const r=createBaseStruct();for(;n.pos<o;){const t=n.uint32();switch(t>>>3){case 1:if(t!==10)break;const u=Struct_FieldsEntry.decode(n,n.uint32());u.value!==void 0&&(r.fields[u.key]=u.value);continue}if((t&7)===4||t===0)break;n.skipType(t&7)}return r},fromJSON(e){return{fields:isObject$2(e.fields)?Object.entries(e.fields).reduce((i,[n,o])=>(i[n]=o,i),{}):{}}},toJSON(e){const i={};if(e.fields){const n=Object.entries(e.fields);n.length>0&&(i.fields={},n.forEach(([o,r])=>{i.fields[o]=r}))}return i},create(e){return Struct.fromPartial(e??{})},fromPartial(e){const i=createBaseStruct();return i.fields=Object.entries(e.fields??{}).reduce((n,[o,r])=>(r!==void 0&&(n[o]=r),n),{}),i},wrap(e){const i=createBaseStruct();if(e!==void 0)for(const n of Object.keys(e))i.fields[n]=e[n];return i},unwrap(e){const i={};if(e.fields)for(const n of Object.keys(e.fields))i[n]=e.fields[n];return i}};messageTypeRegistry.set(Struct.$type,Struct);function createBaseStruct_FieldsEntry(){return{key:"",value:void 0}}const Struct_FieldsEntry={$type:"google.protobuf.Struct.FieldsEntry",encode(e,i=_m0.Writer.create()){return e.key!==""&&i.uint32(10).string(e.key),e.value!==void 0&&Value.encode(Value.wrap(e.value),i.uint32(18).fork()).ldelim(),i},decode(e,i){const n=e instanceof _m0.Reader?e:_m0.Reader.create(e);let o=i===void 0?n.len:n.pos+i;const r=createBaseStruct_FieldsEntry();for(;n.pos<o;){const t=n.uint32();switch(t>>>3){case 1:if(t!==10)break;r.key=n.string();continue;case 2:if(t!==18)break;r.value=Value.unwrap(Value.decode(n,n.uint32()));continue}if((t&7)===4||t===0)break;n.skipType(t&7)}return r},fromJSON(e){return{key:isSet$7(e.key)?globalThis.String(e.key):"",value:isSet$7(e==null?void 0:e.value)?e.value:void 0}},toJSON(e){const i={};return e.key!==""&&(i.key=e.key),e.value!==void 0&&(i.value=e.value),i},create(e){return Struct_FieldsEntry.fromPartial(e??{})},fromPartial(e){const i=createBaseStruct_FieldsEntry();return i.key=e.key??"",i.value=e.value??void 0,i}};messageTypeRegistry.set(Struct_FieldsEntry.$type,Struct_FieldsEntry);function createBaseValue(){return{nullValue:void 0,numberValue:void 0,stringValue:void 0,boolValue:void 0,structValue:void 0,listValue:void 0}}const Value={$type:"google.protobuf.Value",encode(e,i=_m0.Writer.create()){return e.nullValue!==void 0&&i.uint32(8).int32(e.nullValue),e.numberValue!==void 0&&i.uint32(17).double(e.numberValue),e.stringValue!==void 0&&i.uint32(26).string(e.stringValue),e.boolValue!==void 0&&i.uint32(32).bool(e.boolValue),e.structValue!==void 0&&Struct.encode(Struct.wrap(e.structValue),i.uint32(42).fork()).ldelim(),e.listValue!==void 0&&ListValue.encode(ListValue.wrap(e.listValue),i.uint32(50).fork()).ldelim(),i},decode(e,i){const n=e instanceof _m0.Reader?e:_m0.Reader.create(e);let o=i===void 0?n.len:n.pos+i;const r=createBaseValue();for(;n.pos<o;){const t=n.uint32();switch(t>>>3){case 1:if(t!==8)break;r.nullValue=n.int32();continue;case 2:if(t!==17)break;r.numberValue=n.double();continue;case 3:if(t!==26)break;r.stringValue=n.string();continue;case 4:if(t!==32)break;r.boolValue=n.bool();continue;case 5:if(t!==42)break;r.structValue=Struct.unwrap(Struct.decode(n,n.uint32()));continue;case 6:if(t!==50)break;r.listValue=ListValue.unwrap(ListValue.decode(n,n.uint32()));continue}if((t&7)===4||t===0)break;n.skipType(t&7)}return r},fromJSON(e){return{nullValue:isSet$7(e.nullValue)?nullValueFromJSON(e.nullValue):void 0,numberValue:isSet$7(e.numberValue)?globalThis.Number(e.numberValue):void 0,stringValue:isSet$7(e.stringValue)?globalThis.String(e.stringValue):void 0,boolValue:isSet$7(e.boolValue)?globalThis.Boolean(e.boolValue):void 0,structValue:isObject$2(e.structValue)?e.structValue:void 0,listValue:globalThis.Array.isArray(e.listValue)?[...e.listValue]:void 0}},toJSON(e){const i={};return e.nullValue!==void 0&&(i.nullValue=nullValueToJSON(e.nullValue)),e.numberValue!==void 0&&(i.numberValue=e.numberValue),e.stringValue!==void 0&&(i.stringValue=e.stringValue),e.boolValue!==void 0&&(i.boolValue=e.boolValue),e.structValue!==void 0&&(i.structValue=e.structValue),e.listValue!==void 0&&(i.listValue=e.listValue),i},create(e){return Value.fromPartial(e??{})},fromPartial(e){const i=createBaseValue();return i.nullValue=e.nullValue??void 0,i.numberValue=e.numberValue??void 0,i.stringValue=e.stringValue??void 0,i.boolValue=e.boolValue??void 0,i.structValue=e.structValue??void 0,i.listValue=e.listValue??void 0,i},wrap(e){const i=createBaseValue();if(e===null)i.nullValue=NullValue.NULL_VALUE;else if(typeof e=="boolean")i.boolValue=e;else if(typeof e=="number")i.numberValue=e;else if(typeof e=="string")i.stringValue=e;else if(globalThis.Array.isArray(e))i.listValue=e;else if(typeof e=="object")i.structValue=e;else if(typeof e<"u")throw new globalThis.Error("Unsupported any value type: "+typeof e);return i},unwrap(e){if(e.stringValue!==void 0)return e.stringValue;if((e==null?void 0:e.numberValue)!==void 0)return e.numberValue;if((e==null?void 0:e.boolValue)!==void 0)return e.boolValue;if((e==null?void 0:e.structValue)!==void 0)return e.structValue;if((e==null?void 0:e.listValue)!==void 0)return e.listValue;if((e==null?void 0:e.nullValue)!==void 0)return null}};messageTypeRegistry.set(Value.$type,Value);function createBaseListValue(){return{values:[]}}const ListValue={$type:"google.protobuf.ListValue",encode(e,i=_m0.Writer.create()){for(const n of e.values)Value.encode(Value.wrap(n),i.uint32(10).fork()).ldelim();return i},decode(e,i){const n=e instanceof _m0.Reader?e:_m0.Reader.create(e);let o=i===void 0?n.len:n.pos+i;const r=createBaseListValue();for(;n.pos<o;){const t=n.uint32();switch(t>>>3){case 1:if(t!==10)break;r.values.push(Value.unwrap(Value.decode(n,n.uint32())));continue}if((t&7)===4||t===0)break;n.skipType(t&7)}return r},fromJSON(e){return{values:globalThis.Array.isArray(e==null?void 0:e.values)?[...e.values]:[]}},toJSON(e){var n;const i={};return(n=e.values)!=null&&n.length&&(i.values=e.values),i},create(e){return ListValue.fromPartial(e??{})},fromPartial(e){var n;const i=createBaseListValue();return i.values=((n=e.values)==null?void 0:n.map(o=>o))||[],i},wrap(e){const i=createBaseListValue();return i.values=e??[],i},unwrap(e){return e!=null&&e.hasOwnProperty("values")&&globalThis.Array.isArray(e.values)?e.values:e}};messageTypeRegistry.set(ListValue.$type,ListValue);function isObject$2(e){return typeof e=="object"&&e!==null}function isSet$7(e){return e!=null}function createBaseEmpty(){return{}}const Empty={$type:"google.protobuf.Empty",encode(e,i=_m0.Writer.create()){return i},decode(e,i){const n=e instanceof _m0.Reader?e:_m0.Reader.create(e);let o=i===void 0?n.len:n.pos+i;const r=createBaseEmpty();for(;n.pos<o;){const t=n.uint32();if((t&7)===4||t===0)break;n.skipType(t&7)}return r},fromJSON(e){return{}},toJSON(e){return{}},create(e){return Empty.fromPartial(e??{})},fromPartial(e){return createBaseEmpty()}};messageTypeRegistry.set(Empty.$type,Empty);function createBaseRealtimeRequest(){return{channels:[]}}const RealtimeRequest={$type:"devvit.events.v1alpha.RealtimeRequest",encode(e,i=_m0.Writer.create()){for(const n of e.channels)i.uint32(10).string(n);return i},decode(e,i){const n=e instanceof _m0.Reader?e:_m0.Reader.create(e);let o=i===void 0?n.len:n.pos+i;const r=createBaseRealtimeRequest();for(;n.pos<o;){const t=n.uint32();switch(t>>>3){case 1:if(t!==10)break;r.channels.push(n.string());continue}if((t&7)===4||t===0)break;n.skipType(t&7)}return r},fromJSON(e){return{channels:globalThis.Array.isArray(e==null?void 0:e.channels)?e.channels.map(i=>globalThis.String(i)):[]}},toJSON(e){var n;const i={};return(n=e.channels)!=null&&n.length&&(i.channels=e.channels),i},create(e){return RealtimeRequest.fromPartial(e??{})},fromPartial(e){var n;const i=createBaseRealtimeRequest();return i.channels=((n=e.channels)==null?void 0:n.map(o=>o))||[],i}};messageTypeRegistry.set(RealtimeRequest.$type,RealtimeRequest);function createBaseRealtimeEvent(){return{channel:"",data:void 0}}const RealtimeEvent={$type:"devvit.events.v1alpha.RealtimeEvent",encode(e,i=_m0.Writer.create()){return e.channel!==""&&i.uint32(10).string(e.channel),e.data!==void 0&&Struct.encode(Struct.wrap(e.data),i.uint32(18).fork()).ldelim(),i},decode(e,i){const n=e instanceof _m0.Reader?e:_m0.Reader.create(e);let o=i===void 0?n.len:n.pos+i;const r=createBaseRealtimeEvent();for(;n.pos<o;){const t=n.uint32();switch(t>>>3){case 1:if(t!==10)break;r.channel=n.string();continue;case 2:if(t!==18)break;r.data=Struct.unwrap(Struct.decode(n,n.uint32()));continue}if((t&7)===4||t===0)break;n.skipType(t&7)}return r},fromJSON(e){return{channel:isSet$6(e.channel)?globalThis.String(e.channel):"",data:isObject$1(e.data)?e.data:void 0}},toJSON(e){const i={};return e.channel!==""&&(i.channel=e.channel),e.data!==void 0&&(i.data=e.data),i},create(e){return RealtimeEvent.fromPartial(e??{})},fromPartial(e){const i=createBaseRealtimeEvent();return i.channel=e.channel??"",i.data=e.data??void 0,i}};messageTypeRegistry.set(RealtimeEvent.$type,RealtimeEvent);function isObject$1(e){return typeof e=="object"&&e!==null}function isSet$6(e){return e!=null}var RealtimeSubscriptionStatus;(function(e){e[e.REALTIME_SUBSCRIBED=0]="REALTIME_SUBSCRIBED",e[e.REALTIME_UNSUBSCRIBED=1]="REALTIME_UNSUBSCRIBED",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(RealtimeSubscriptionStatus||(RealtimeSubscriptionStatus={}));function realtimeSubscriptionStatusFromJSON(e){switch(e){case 0:case"REALTIME_SUBSCRIBED":return RealtimeSubscriptionStatus.REALTIME_SUBSCRIBED;case 1:case"REALTIME_UNSUBSCRIBED":return RealtimeSubscriptionStatus.REALTIME_UNSUBSCRIBED;case-1:case"UNRECOGNIZED":default:return RealtimeSubscriptionStatus.UNRECOGNIZED}}function realtimeSubscriptionStatusToJSON(e){switch(e){case RealtimeSubscriptionStatus.REALTIME_SUBSCRIBED:return 0;case RealtimeSubscriptionStatus.REALTIME_UNSUBSCRIBED:return 1;case RealtimeSubscriptionStatus.UNRECOGNIZED:default:return-1}}function createBaseRealtimeSubscriptionsEffect(){return{subscriptionIds:[]}}const RealtimeSubscriptionsEffect={$type:"devvit.ui.effects.v1alpha.RealtimeSubscriptionsEffect",encode(e,i=_m0.Writer.create()){for(const n of e.subscriptionIds)i.uint32(10).string(n);return i},decode(e,i){const n=e instanceof _m0.Reader?e:_m0.Reader.create(e);let o=i===void 0?n.len:n.pos+i;const r=createBaseRealtimeSubscriptionsEffect();for(;n.pos<o;){const t=n.uint32();switch(t>>>3){case 1:if(t!==10)break;r.subscriptionIds.push(n.string());continue}if((t&7)===4||t===0)break;n.skipType(t&7)}return r},fromJSON(e){return{subscriptionIds:globalThis.Array.isArray(e==null?void 0:e.subscriptionIds)?e.subscriptionIds.map(i=>globalThis.String(i)):[]}},toJSON(e){var n;const i={};return(n=e.subscriptionIds)!=null&&n.length&&(i.subscriptionIds=e.subscriptionIds),i},create(e){return RealtimeSubscriptionsEffect.fromPartial(e??{})},fromPartial(e){var n;const i=createBaseRealtimeSubscriptionsEffect();return i.subscriptionIds=((n=e.subscriptionIds)==null?void 0:n.map(o=>o))||[],i}};messageTypeRegistry.set(RealtimeSubscriptionsEffect.$type,RealtimeSubscriptionsEffect);function createBaseRealtimeSubscriptionEvent(){return{event:void 0,status:void 0}}const RealtimeSubscriptionEvent={$type:"devvit.ui.effects.v1alpha.RealtimeSubscriptionEvent",encode(e,i=_m0.Writer.create()){return e.event!==void 0&&RealtimeEvent.encode(e.event,i.uint32(10).fork()).ldelim(),e.status!==void 0&&i.uint32(16).int32(e.status),i},decode(e,i){const n=e instanceof _m0.Reader?e:_m0.Reader.create(e);let o=i===void 0?n.len:n.pos+i;const r=createBaseRealtimeSubscriptionEvent();for(;n.pos<o;){const t=n.uint32();switch(t>>>3){case 1:if(t!==10)break;r.event=RealtimeEvent.decode(n,n.uint32());continue;case 2:if(t!==16)break;r.status=n.int32();continue}if((t&7)===4||t===0)break;n.skipType(t&7)}return r},fromJSON(e){return{event:isSet$5(e.event)?RealtimeEvent.fromJSON(e.event):void 0,status:isSet$5(e.status)?realtimeSubscriptionStatusFromJSON(e.status):void 0}},toJSON(e){const i={};return e.event!==void 0&&(i.event=RealtimeEvent.toJSON(e.event)),e.status!==void 0&&(i.status=realtimeSubscriptionStatusToJSON(e.status)),i},create(e){return RealtimeSubscriptionEvent.fromPartial(e??{})},fromPartial(e){const i=createBaseRealtimeSubscriptionEvent();return i.event=e.event!==void 0&&e.event!==null?RealtimeEvent.fromPartial(e.event):void 0,i.status=e.status??void 0,i}};messageTypeRegistry.set(RealtimeSubscriptionEvent.$type,RealtimeSubscriptionEvent);function isSet$5(e){return e!=null}var FormFieldType;(function(e){e[e.STRING=0]="STRING",e[e.PARAGRAPH=1]="PARAGRAPH",e[e.NUMBER=2]="NUMBER",e[e.BOOLEAN=3]="BOOLEAN",e[e.LIST=4]="LIST",e[e.SELECTION=5]="SELECTION",e[e.GROUP=6]="GROUP",e[e.IMAGE=7]="IMAGE",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(FormFieldType||(FormFieldType={}));function formFieldTypeFromJSON(e){switch(e){case 0:case"STRING":return FormFieldType.STRING;case 1:case"PARAGRAPH":return FormFieldType.PARAGRAPH;case 2:case"NUMBER":return FormFieldType.NUMBER;case 3:case"BOOLEAN":return FormFieldType.BOOLEAN;case 4:case"LIST":return FormFieldType.LIST;case 5:case"SELECTION":return FormFieldType.SELECTION;case 6:case"GROUP":return FormFieldType.GROUP;case 7:case"IMAGE":return FormFieldType.IMAGE;case-1:case"UNRECOGNIZED":default:return FormFieldType.UNRECOGNIZED}}function formFieldTypeToJSON(e){switch(e){case FormFieldType.STRING:return 0;case FormFieldType.PARAGRAPH:return 1;case FormFieldType.NUMBER:return 2;case FormFieldType.BOOLEAN:return 3;case FormFieldType.LIST:return 4;case FormFieldType.SELECTION:return 5;case FormFieldType.GROUP:return 6;case FormFieldType.IMAGE:return 7;case FormFieldType.UNRECOGNIZED:default:return-1}}function createBaseFormFieldValue(){return{fieldType:0,isSecret:void 0,stringValue:void 0,numberValue:void 0,boolValue:void 0,listValue:void 0,selectionValue:void 0,groupValue:void 0}}const FormFieldValue={$type:"devvit.ui.form_builder.v1alpha.FormFieldValue",encode(e,i=_m0.Writer.create()){return e.fieldType!==0&&i.uint32(8).int32(e.fieldType),e.isSecret!==void 0&&i.uint32(800).bool(e.isSecret),e.stringValue!==void 0&&i.uint32(18).string(e.stringValue),e.numberValue!==void 0&&i.uint32(25).double(e.numberValue),e.boolValue!==void 0&&i.uint32(32).bool(e.boolValue),e.listValue!==void 0&&FormFieldValue_ListValue.encode(e.listValue,i.uint32(42).fork()).ldelim(),e.selectionValue!==void 0&&FormFieldValue_SelectionValue.encode(e.selectionValue,i.uint32(50).fork()).ldelim(),e.groupValue!==void 0&&FormFieldValue_GroupValue.encode(e.groupValue,i.uint32(58).fork()).ldelim(),i},decode(e,i){const n=e instanceof _m0.Reader?e:_m0.Reader.create(e);let o=i===void 0?n.len:n.pos+i;const r=createBaseFormFieldValue();for(;n.pos<o;){const t=n.uint32();switch(t>>>3){case 1:if(t!==8)break;r.fieldType=n.int32();continue;case 100:if(t!==800)break;r.isSecret=n.bool();continue;case 2:if(t!==18)break;r.stringValue=n.string();continue;case 3:if(t!==25)break;r.numberValue=n.double();continue;case 4:if(t!==32)break;r.boolValue=n.bool();continue;case 5:if(t!==42)break;r.listValue=FormFieldValue_ListValue.decode(n,n.uint32());continue;case 6:if(t!==50)break;r.selectionValue=FormFieldValue_SelectionValue.decode(n,n.uint32());continue;case 7:if(t!==58)break;r.groupValue=FormFieldValue_GroupValue.decode(n,n.uint32());continue}if((t&7)===4||t===0)break;n.skipType(t&7)}return r},fromJSON(e){return{fieldType:isSet$4(e.fieldType)?formFieldTypeFromJSON(e.fieldType):0,isSecret:isSet$4(e.isSecret)?globalThis.Boolean(e.isSecret):void 0,stringValue:isSet$4(e.stringValue)?globalThis.String(e.stringValue):void 0,numberValue:isSet$4(e.numberValue)?globalThis.Number(e.numberValue):void 0,boolValue:isSet$4(e.boolValue)?globalThis.Boolean(e.boolValue):void 0,listValue:isSet$4(e.listValue)?FormFieldValue_ListValue.fromJSON(e.listValue):void 0,selectionValue:isSet$4(e.selectionValue)?FormFieldValue_SelectionValue.fromJSON(e.selectionValue):void 0,groupValue:isSet$4(e.groupValue)?FormFieldValue_GroupValue.fromJSON(e.groupValue):void 0}},toJSON(e){const i={};return e.fieldType!==0&&(i.fieldType=formFieldTypeToJSON(e.fieldType)),e.isSecret!==void 0&&(i.isSecret=e.isSecret),e.stringValue!==void 0&&(i.stringValue=e.stringValue),e.numberValue!==void 0&&(i.numberValue=e.numberValue),e.boolValue!==void 0&&(i.boolValue=e.boolValue),e.listValue!==void 0&&(i.listValue=FormFieldValue_ListValue.toJSON(e.listValue)),e.selectionValue!==void 0&&(i.selectionValue=FormFieldValue_SelectionValue.toJSON(e.selectionValue)),e.groupValue!==void 0&&(i.groupValue=FormFieldValue_GroupValue.toJSON(e.groupValue)),i},create(e){return FormFieldValue.fromPartial(e??{})},fromPartial(e){const i=createBaseFormFieldValue();return i.fieldType=e.fieldType??0,i.isSecret=e.isSecret??void 0,i.stringValue=e.stringValue??void 0,i.numberValue=e.numberValue??void 0,i.boolValue=e.boolValue??void 0,i.listValue=e.listValue!==void 0&&e.listValue!==null?FormFieldValue_ListValue.fromPartial(e.listValue):void 0,i.selectionValue=e.selectionValue!==void 0&&e.selectionValue!==null?FormFieldValue_SelectionValue.fromPartial(e.selectionValue):void 0,i.groupValue=e.groupValue!==void 0&&e.groupValue!==null?FormFieldValue_GroupValue.fromPartial(e.groupValue):void 0,i}};messageTypeRegistry.set(FormFieldValue.$type,FormFieldValue);function createBaseFormFieldValue_ListValue(){return{itemType:0,items:[]}}const FormFieldValue_ListValue={$type:"devvit.ui.form_builder.v1alpha.FormFieldValue.ListValue",encode(e,i=_m0.Writer.create()){e.itemType!==0&&i.uint32(8).int32(e.itemType);for(const n of e.items)FormFieldValue.encode(n,i.uint32(18).fork()).ldelim();return i},decode(e,i){const n=e instanceof _m0.Reader?e:_m0.Reader.create(e);let o=i===void 0?n.len:n.pos+i;const r=createBaseFormFieldValue_ListValue();for(;n.pos<o;){const t=n.uint32();switch(t>>>3){case 1:if(t!==8)break;r.itemType=n.int32();continue;case 2:if(t!==18)break;r.items.push(FormFieldValue.decode(n,n.uint32()));continue}if((t&7)===4||t===0)break;n.skipType(t&7)}return r},fromJSON(e){return{itemType:isSet$4(e.itemType)?formFieldTypeFromJSON(e.itemType):0,items:globalThis.Array.isArray(e==null?void 0:e.items)?e.items.map(i=>FormFieldValue.fromJSON(i)):[]}},toJSON(e){var n;const i={};return e.itemType!==0&&(i.itemType=formFieldTypeToJSON(e.itemType)),(n=e.items)!=null&&n.length&&(i.items=e.items.map(o=>FormFieldValue.toJSON(o))),i},create(e){return FormFieldValue_ListValue.fromPartial(e??{})},fromPartial(e){var n;const i=createBaseFormFieldValue_ListValue();return i.itemType=e.itemType??0,i.items=((n=e.items)==null?void 0:n.map(o=>FormFieldValue.fromPartial(o)))||[],i}};messageTypeRegistry.set(FormFieldValue_ListValue.$type,FormFieldValue_ListValue);function createBaseFormFieldValue_SelectionValue(){return{values:[]}}const FormFieldValue_SelectionValue={$type:"devvit.ui.form_builder.v1alpha.FormFieldValue.SelectionValue",encode(e,i=_m0.Writer.create()){for(const n of e.values)i.uint32(10).string(n);return i},decode(e,i){const n=e instanceof _m0.Reader?e:_m0.Reader.create(e);let o=i===void 0?n.len:n.pos+i;const r=createBaseFormFieldValue_SelectionValue();for(;n.pos<o;){const t=n.uint32();switch(t>>>3){case 1:if(t!==10)break;r.values.push(n.string());continue}if((t&7)===4||t===0)break;n.skipType(t&7)}return r},fromJSON(e){return{values:globalThis.Array.isArray(e==null?void 0:e.values)?e.values.map(i=>globalThis.String(i)):[]}},toJSON(e){var n;const i={};return(n=e.values)!=null&&n.length&&(i.values=e.values),i},create(e){return FormFieldValue_SelectionValue.fromPartial(e??{})},fromPartial(e){var n;const i=createBaseFormFieldValue_SelectionValue();return i.values=((n=e.values)==null?void 0:n.map(o=>o))||[],i}};messageTypeRegistry.set(FormFieldValue_SelectionValue.$type,FormFieldValue_SelectionValue);function createBaseFormFieldValue_GroupValue(){return{}}const FormFieldValue_GroupValue={$type:"devvit.ui.form_builder.v1alpha.FormFieldValue.GroupValue",encode(e,i=_m0.Writer.create()){return i},decode(e,i){const n=e instanceof _m0.Reader?e:_m0.Reader.create(e);let o=i===void 0?n.len:n.pos+i;const r=createBaseFormFieldValue_GroupValue();for(;n.pos<o;){const t=n.uint32();if((t&7)===4||t===0)break;n.skipType(t&7)}return r},fromJSON(e){return{}},toJSON(e){return{}},create(e){return FormFieldValue_GroupValue.fromPartial(e??{})},fromPartial(e){return createBaseFormFieldValue_GroupValue()}};messageTypeRegistry.set(FormFieldValue_GroupValue.$type,FormFieldValue_GroupValue);function isSet$4(e){return e!=null}function createBaseFormField(){return{fieldId:"",fieldType:0,label:"",helpText:void 0,defaultValue:void 0,required:void 0,disabled:void 0,fieldConfig:void 0,isSecret:void 0}}const FormField={$type:"devvit.ui.form_builder.v1alpha.FormField",encode(e,i=_m0.Writer.create()){return e.fieldId!==""&&i.uint32(10).string(e.fieldId),e.fieldType!==0&&i.uint32(16).int32(e.fieldType),e.label!==""&&i.uint32(26).string(e.label),e.helpText!==void 0&&i.uint32(34).string(e.helpText),e.defaultValue!==void 0&&FormFieldValue.encode(e.defaultValue,i.uint32(42).fork()).ldelim(),e.required!==void 0&&i.uint32(48).bool(e.required),e.disabled!==void 0&&i.uint32(56).bool(e.disabled),e.fieldConfig!==void 0&&FieldConfig.encode(e.fieldConfig,i.uint32(66).fork()).ldelim(),e.isSecret!==void 0&&i.uint32(72).bool(e.isSecret),i},decode(e,i){const n=e instanceof _m0.Reader?e:_m0.Reader.create(e);let o=i===void 0?n.len:n.pos+i;const r=createBaseFormField();for(;n.pos<o;){const t=n.uint32();switch(t>>>3){case 1:if(t!==10)break;r.fieldId=n.string();continue;case 2:if(t!==16)break;r.fieldType=n.int32();continue;case 3:if(t!==26)break;r.label=n.string();continue;case 4:if(t!==34)break;r.helpText=n.string();continue;case 5:if(t!==42)break;r.defaultValue=FormFieldValue.decode(n,n.uint32());continue;case 6:if(t!==48)break;r.required=n.bool();continue;case 7:if(t!==56)break;r.disabled=n.bool();continue;case 8:if(t!==66)break;r.fieldConfig=FieldConfig.decode(n,n.uint32());continue;case 9:if(t!==72)break;r.isSecret=n.bool();continue}if((t&7)===4||t===0)break;n.skipType(t&7)}return r},fromJSON(e){return{fieldId:isSet$3(e.fieldId)?globalThis.String(e.fieldId):"",fieldType:isSet$3(e.fieldType)?formFieldTypeFromJSON(e.fieldType):0,label:isSet$3(e.label)?globalThis.String(e.label):"",helpText:isSet$3(e.helpText)?globalThis.String(e.helpText):void 0,defaultValue:isSet$3(e.defaultValue)?FormFieldValue.fromJSON(e.defaultValue):void 0,required:isSet$3(e.required)?globalThis.Boolean(e.required):void 0,disabled:isSet$3(e.disabled)?globalThis.Boolean(e.disabled):void 0,fieldConfig:isSet$3(e.fieldConfig)?FieldConfig.fromJSON(e.fieldConfig):void 0,isSecret:isSet$3(e.isSecret)?globalThis.Boolean(e.isSecret):void 0}},toJSON(e){const i={};return e.fieldId!==""&&(i.fieldId=e.fieldId),e.fieldType!==0&&(i.fieldType=formFieldTypeToJSON(e.fieldType)),e.label!==""&&(i.label=e.label),e.helpText!==void 0&&(i.helpText=e.helpText),e.defaultValue!==void 0&&(i.defaultValue=FormFieldValue.toJSON(e.defaultValue)),e.required!==void 0&&(i.required=e.required),e.disabled!==void 0&&(i.disabled=e.disabled),e.fieldConfig!==void 0&&(i.fieldConfig=FieldConfig.toJSON(e.fieldConfig)),e.isSecret!==void 0&&(i.isSecret=e.isSecret),i},create(e){return FormField.fromPartial(e??{})},fromPartial(e){const i=createBaseFormField();return i.fieldId=e.fieldId??"",i.fieldType=e.fieldType??0,i.label=e.label??"",i.helpText=e.helpText??void 0,i.defaultValue=e.defaultValue!==void 0&&e.defaultValue!==null?FormFieldValue.fromPartial(e.defaultValue):void 0,i.required=e.required??void 0,i.disabled=e.disabled??void 0,i.fieldConfig=e.fieldConfig!==void 0&&e.fieldConfig!==null?FieldConfig.fromPartial(e.fieldConfig):void 0,i.isSecret=e.isSecret??void 0,i}};messageTypeRegistry.set(FormField.$type,FormField);function createBaseFieldConfig(){return{stringConfig:void 0,paragraphConfig:void 0,numberConfig:void 0,booleanConfig:void 0,listConfig:void 0,selectionConfig:void 0,groupConfig:void 0}}const FieldConfig={$type:"devvit.ui.form_builder.v1alpha.FieldConfig",encode(e,i=_m0.Writer.create()){return e.stringConfig!==void 0&&FieldConfig_String.encode(e.stringConfig,i.uint32(10).fork()).ldelim(),e.paragraphConfig!==void 0&&FieldConfig_Paragraph.encode(e.paragraphConfig,i.uint32(18).fork()).ldelim(),e.numberConfig!==void 0&&FieldConfig_Number.encode(e.numberConfig,i.uint32(26).fork()).ldelim(),e.booleanConfig!==void 0&&FieldConfig_Boolean.encode(e.booleanConfig,i.uint32(34).fork()).ldelim(),e.listConfig!==void 0&&FieldConfig_List.encode(e.listConfig,i.uint32(42).fork()).ldelim(),e.selectionConfig!==void 0&&FieldConfig_Selection.encode(e.selectionConfig,i.uint32(50).fork()).ldelim(),e.groupConfig!==void 0&&FieldConfig_Group.encode(e.groupConfig,i.uint32(58).fork()).ldelim(),i},decode(e,i){const n=e instanceof _m0.Reader?e:_m0.Reader.create(e);let o=i===void 0?n.len:n.pos+i;const r=createBaseFieldConfig();for(;n.pos<o;){const t=n.uint32();switch(t>>>3){case 1:if(t!==10)break;r.stringConfig=FieldConfig_String.decode(n,n.uint32());continue;case 2:if(t!==18)break;r.paragraphConfig=FieldConfig_Paragraph.decode(n,n.uint32());continue;case 3:if(t!==26)break;r.numberConfig=FieldConfig_Number.decode(n,n.uint32());continue;case 4:if(t!==34)break;r.booleanConfig=FieldConfig_Boolean.decode(n,n.uint32());continue;case 5:if(t!==42)break;r.listConfig=FieldConfig_List.decode(n,n.uint32());continue;case 6:if(t!==50)break;r.selectionConfig=FieldConfig_Selection.decode(n,n.uint32());continue;case 7:if(t!==58)break;r.groupConfig=FieldConfig_Group.decode(n,n.uint32());continue}if((t&7)===4||t===0)break;n.skipType(t&7)}return r},fromJSON(e){return{stringConfig:isSet$3(e.stringConfig)?FieldConfig_String.fromJSON(e.stringConfig):void 0,paragraphConfig:isSet$3(e.paragraphConfig)?FieldConfig_Paragraph.fromJSON(e.paragraphConfig):void 0,numberConfig:isSet$3(e.numberConfig)?FieldConfig_Number.fromJSON(e.numberConfig):void 0,booleanConfig:isSet$3(e.booleanConfig)?FieldConfig_Boolean.fromJSON(e.booleanConfig):void 0,listConfig:isSet$3(e.listConfig)?FieldConfig_List.fromJSON(e.listConfig):void 0,selectionConfig:isSet$3(e.selectionConfig)?FieldConfig_Selection.fromJSON(e.selectionConfig):void 0,groupConfig:isSet$3(e.groupConfig)?FieldConfig_Group.fromJSON(e.groupConfig):void 0}},toJSON(e){const i={};return e.stringConfig!==void 0&&(i.stringConfig=FieldConfig_String.toJSON(e.stringConfig)),e.paragraphConfig!==void 0&&(i.paragraphConfig=FieldConfig_Paragraph.toJSON(e.paragraphConfig)),e.numberConfig!==void 0&&(i.numberConfig=FieldConfig_Number.toJSON(e.numberConfig)),e.booleanConfig!==void 0&&(i.booleanConfig=FieldConfig_Boolean.toJSON(e.booleanConfig)),e.listConfig!==void 0&&(i.listConfig=FieldConfig_List.toJSON(e.listConfig)),e.selectionConfig!==void 0&&(i.selectionConfig=FieldConfig_Selection.toJSON(e.selectionConfig)),e.groupConfig!==void 0&&(i.groupConfig=FieldConfig_Group.toJSON(e.groupConfig)),i},create(e){return FieldConfig.fromPartial(e??{})},fromPartial(e){const i=createBaseFieldConfig();return i.stringConfig=e.stringConfig!==void 0&&e.stringConfig!==null?FieldConfig_String.fromPartial(e.stringConfig):void 0,i.paragraphConfig=e.paragraphConfig!==void 0&&e.paragraphConfig!==null?FieldConfig_Paragraph.fromPartial(e.paragraphConfig):void 0,i.numberConfig=e.numberConfig!==void 0&&e.numberConfig!==null?FieldConfig_Number.fromPartial(e.numberConfig):void 0,i.booleanConfig=e.booleanConfig!==void 0&&e.booleanConfig!==null?FieldConfig_Boolean.fromPartial(e.booleanConfig):void 0,i.listConfig=e.listConfig!==void 0&&e.listConfig!==null?FieldConfig_List.fromPartial(e.listConfig):void 0,i.selectionConfig=e.selectionConfig!==void 0&&e.selectionConfig!==null?FieldConfig_Selection.fromPartial(e.selectionConfig):void 0,i.groupConfig=e.groupConfig!==void 0&&e.groupConfig!==null?FieldConfig_Group.fromPartial(e.groupConfig):void 0,i}};messageTypeRegistry.set(FieldConfig.$type,FieldConfig);function createBaseFieldConfig_String(){return{minLength:void 0,maxLength:void 0,placeholder:void 0}}const FieldConfig_String={$type:"devvit.ui.form_builder.v1alpha.FieldConfig.String",encode(e,i=_m0.Writer.create()){return e.minLength!==void 0&&i.uint32(8).int32(e.minLength),e.maxLength!==void 0&&i.uint32(16).int32(e.maxLength),e.placeholder!==void 0&&i.uint32(26).string(e.placeholder),i},decode(e,i){const n=e instanceof _m0.Reader?e:_m0.Reader.create(e);let o=i===void 0?n.len:n.pos+i;const r=createBaseFieldConfig_String();for(;n.pos<o;){const t=n.uint32();switch(t>>>3){case 1:if(t!==8)break;r.minLength=n.int32();continue;case 2:if(t!==16)break;r.maxLength=n.int32();continue;case 3:if(t!==26)break;r.placeholder=n.string();continue}if((t&7)===4||t===0)break;n.skipType(t&7)}return r},fromJSON(e){return{minLength:isSet$3(e.minLength)?globalThis.Number(e.minLength):void 0,maxLength:isSet$3(e.maxLength)?globalThis.Number(e.maxLength):void 0,placeholder:isSet$3(e.placeholder)?globalThis.String(e.placeholder):void 0}},toJSON(e){const i={};return e.minLength!==void 0&&(i.minLength=Math.round(e.minLength)),e.maxLength!==void 0&&(i.maxLength=Math.round(e.maxLength)),e.placeholder!==void 0&&(i.placeholder=e.placeholder),i},create(e){return FieldConfig_String.fromPartial(e??{})},fromPartial(e){const i=createBaseFieldConfig_String();return i.minLength=e.minLength??void 0,i.maxLength=e.maxLength??void 0,i.placeholder=e.placeholder??void 0,i}};messageTypeRegistry.set(FieldConfig_String.$type,FieldConfig_String);function createBaseFieldConfig_Paragraph(){return{maxCharacters:void 0,lineHeight:void 0,placeholder:void 0}}const FieldConfig_Paragraph={$type:"devvit.ui.form_builder.v1alpha.FieldConfig.Paragraph",encode(e,i=_m0.Writer.create()){return e.maxCharacters!==void 0&&i.uint32(8).int32(e.maxCharacters),e.lineHeight!==void 0&&i.uint32(16).int32(e.lineHeight),e.placeholder!==void 0&&i.uint32(26).string(e.placeholder),i},decode(e,i){const n=e instanceof _m0.Reader?e:_m0.Reader.create(e);let o=i===void 0?n.len:n.pos+i;const r=createBaseFieldConfig_Paragraph();for(;n.pos<o;){const t=n.uint32();switch(t>>>3){case 1:if(t!==8)break;r.maxCharacters=n.int32();continue;case 2:if(t!==16)break;r.lineHeight=n.int32();continue;case 3:if(t!==26)break;r.placeholder=n.string();continue}if((t&7)===4||t===0)break;n.skipType(t&7)}return r},fromJSON(e){return{maxCharacters:isSet$3(e.maxCharacters)?globalThis.Number(e.maxCharacters):void 0,lineHeight:isSet$3(e.lineHeight)?globalThis.Number(e.lineHeight):void 0,placeholder:isSet$3(e.placeholder)?globalThis.String(e.placeholder):void 0}},toJSON(e){const i={};return e.maxCharacters!==void 0&&(i.maxCharacters=Math.round(e.maxCharacters)),e.lineHeight!==void 0&&(i.lineHeight=Math.round(e.lineHeight)),e.placeholder!==void 0&&(i.placeholder=e.placeholder),i},create(e){return FieldConfig_Paragraph.fromPartial(e??{})},fromPartial(e){const i=createBaseFieldConfig_Paragraph();return i.maxCharacters=e.maxCharacters??void 0,i.lineHeight=e.lineHeight??void 0,i.placeholder=e.placeholder??void 0,i}};messageTypeRegistry.set(FieldConfig_Paragraph.$type,FieldConfig_Paragraph);function createBaseFieldConfig_Number(){return{step:void 0,min:void 0,max:void 0}}const FieldConfig_Number={$type:"devvit.ui.form_builder.v1alpha.FieldConfig.Number",encode(e,i=_m0.Writer.create()){return e.step!==void 0&&i.uint32(9).double(e.step),e.min!==void 0&&i.uint32(17).double(e.min),e.max!==void 0&&i.uint32(25).double(e.max),i},decode(e,i){const n=e instanceof _m0.Reader?e:_m0.Reader.create(e);let o=i===void 0?n.len:n.pos+i;const r=createBaseFieldConfig_Number();for(;n.pos<o;){const t=n.uint32();switch(t>>>3){case 1:if(t!==9)break;r.step=n.double();continue;case 2:if(t!==17)break;r.min=n.double();continue;case 3:if(t!==25)break;r.max=n.double();continue}if((t&7)===4||t===0)break;n.skipType(t&7)}return r},fromJSON(e){return{step:isSet$3(e.step)?globalThis.Number(e.step):void 0,min:isSet$3(e.min)?globalThis.Number(e.min):void 0,max:isSet$3(e.max)?globalThis.Number(e.max):void 0}},toJSON(e){const i={};return e.step!==void 0&&(i.step=e.step),e.min!==void 0&&(i.min=e.min),e.max!==void 0&&(i.max=e.max),i},create(e){return FieldConfig_Number.fromPartial(e??{})},fromPartial(e){const i=createBaseFieldConfig_Number();return i.step=e.step??void 0,i.min=e.min??void 0,i.max=e.max??void 0,i}};messageTypeRegistry.set(FieldConfig_Number.$type,FieldConfig_Number);function createBaseFieldConfig_Boolean(){return{}}const FieldConfig_Boolean={$type:"devvit.ui.form_builder.v1alpha.FieldConfig.Boolean",encode(e,i=_m0.Writer.create()){return i},decode(e,i){const n=e instanceof _m0.Reader?e:_m0.Reader.create(e);let o=i===void 0?n.len:n.pos+i;const r=createBaseFieldConfig_Boolean();for(;n.pos<o;){const t=n.uint32();if((t&7)===4||t===0)break;n.skipType(t&7)}return r},fromJSON(e){return{}},toJSON(e){return{}},create(e){return FieldConfig_Boolean.fromPartial(e??{})},fromPartial(e){return createBaseFieldConfig_Boolean()}};messageTypeRegistry.set(FieldConfig_Boolean.$type,FieldConfig_Boolean);function createBaseFieldConfig_List(){return{itemType:0,itemConfig:void 0,minEntries:void 0,maxEntries:void 0,entryLabel:void 0}}const FieldConfig_List={$type:"devvit.ui.form_builder.v1alpha.FieldConfig.List",encode(e,i=_m0.Writer.create()){return e.itemType!==0&&i.uint32(8).int32(e.itemType),e.itemConfig!==void 0&&FieldConfig.encode(e.itemConfig,i.uint32(18).fork()).ldelim(),e.minEntries!==void 0&&i.uint32(24).int32(e.minEntries),e.maxEntries!==void 0&&i.uint32(32).int32(e.maxEntries),e.entryLabel!==void 0&&i.uint32(42).string(e.entryLabel),i},decode(e,i){const n=e instanceof _m0.Reader?e:_m0.Reader.create(e);let o=i===void 0?n.len:n.pos+i;const r=createBaseFieldConfig_List();for(;n.pos<o;){const t=n.uint32();switch(t>>>3){case 1:if(t!==8)break;r.itemType=n.int32();continue;case 2:if(t!==18)break;r.itemConfig=FieldConfig.decode(n,n.uint32());continue;case 3:if(t!==24)break;r.minEntries=n.int32();continue;case 4:if(t!==32)break;r.maxEntries=n.int32();continue;case 5:if(t!==42)break;r.entryLabel=n.string();continue}if((t&7)===4||t===0)break;n.skipType(t&7)}return r},fromJSON(e){return{itemType:isSet$3(e.itemType)?formFieldTypeFromJSON(e.itemType):0,itemConfig:isSet$3(e.itemConfig)?FieldConfig.fromJSON(e.itemConfig):void 0,minEntries:isSet$3(e.minEntries)?globalThis.Number(e.minEntries):void 0,maxEntries:isSet$3(e.maxEntries)?globalThis.Number(e.maxEntries):void 0,entryLabel:isSet$3(e.entryLabel)?globalThis.String(e.entryLabel):void 0}},toJSON(e){const i={};return e.itemType!==0&&(i.itemType=formFieldTypeToJSON(e.itemType)),e.itemConfig!==void 0&&(i.itemConfig=FieldConfig.toJSON(e.itemConfig)),e.minEntries!==void 0&&(i.minEntries=Math.round(e.minEntries)),e.maxEntries!==void 0&&(i.maxEntries=Math.round(e.maxEntries)),e.entryLabel!==void 0&&(i.entryLabel=e.entryLabel),i},create(e){return FieldConfig_List.fromPartial(e??{})},fromPartial(e){const i=createBaseFieldConfig_List();return i.itemType=e.itemType??0,i.itemConfig=e.itemConfig!==void 0&&e.itemConfig!==null?FieldConfig.fromPartial(e.itemConfig):void 0,i.minEntries=e.minEntries??void 0,i.maxEntries=e.maxEntries??void 0,i.entryLabel=e.entryLabel??void 0,i}};messageTypeRegistry.set(FieldConfig_List.$type,FieldConfig_List);function createBaseFieldConfig_Selection(){return{choices:[],multiSelect:void 0,minSelections:void 0,maxSelections:void 0,renderAsList:void 0}}const FieldConfig_Selection={$type:"devvit.ui.form_builder.v1alpha.FieldConfig.Selection",encode(e,i=_m0.Writer.create()){for(const n of e.choices)FieldConfig_Selection_Item.encode(n,i.uint32(10).fork()).ldelim();return e.multiSelect!==void 0&&i.uint32(16).bool(e.multiSelect),e.minSelections!==void 0&&i.uint32(24).int32(e.minSelections),e.maxSelections!==void 0&&i.uint32(32).int32(e.maxSelections),e.renderAsList!==void 0&&i.uint32(40).bool(e.renderAsList),i},decode(e,i){const n=e instanceof _m0.Reader?e:_m0.Reader.create(e);let o=i===void 0?n.len:n.pos+i;const r=createBaseFieldConfig_Selection();for(;n.pos<o;){const t=n.uint32();switch(t>>>3){case 1:if(t!==10)break;r.choices.push(FieldConfig_Selection_Item.decode(n,n.uint32()));continue;case 2:if(t!==16)break;r.multiSelect=n.bool();continue;case 3:if(t!==24)break;r.minSelections=n.int32();continue;case 4:if(t!==32)break;r.maxSelections=n.int32();continue;case 5:if(t!==40)break;r.renderAsList=n.bool();continue}if((t&7)===4||t===0)break;n.skipType(t&7)}return r},fromJSON(e){return{choices:globalThis.Array.isArray(e==null?void 0:e.choices)?e.choices.map(i=>FieldConfig_Selection_Item.fromJSON(i)):[],multiSelect:isSet$3(e.multiSelect)?globalThis.Boolean(e.multiSelect):void 0,minSelections:isSet$3(e.minSelections)?globalThis.Number(e.minSelections):void 0,maxSelections:isSet$3(e.maxSelections)?globalThis.Number(e.maxSelections):void 0,renderAsList:isSet$3(e.renderAsList)?globalThis.Boolean(e.renderAsList):void 0}},toJSON(e){var n;const i={};return(n=e.choices)!=null&&n.length&&(i.choices=e.choices.map(o=>FieldConfig_Selection_Item.toJSON(o))),e.multiSelect!==void 0&&(i.multiSelect=e.multiSelect),e.minSelections!==void 0&&(i.minSelections=Math.round(e.minSelections)),e.maxSelections!==void 0&&(i.maxSelections=Math.round(e.maxSelections)),e.renderAsList!==void 0&&(i.renderAsList=e.renderAsList),i},create(e){return FieldConfig_Selection.fromPartial(e??{})},fromPartial(e){var n;const i=createBaseFieldConfig_Selection();return i.choices=((n=e.choices)==null?void 0:n.map(o=>FieldConfig_Selection_Item.fromPartial(o)))||[],i.multiSelect=e.multiSelect??void 0,i.minSelections=e.minSelections??void 0,i.maxSelections=e.maxSelections??void 0,i.renderAsList=e.renderAsList??void 0,i}};messageTypeRegistry.set(FieldConfig_Selection.$type,FieldConfig_Selection);function createBaseFieldConfig_Selection_Item(){return{label:"",value:""}}const FieldConfig_Selection_Item={$type:"devvit.ui.form_builder.v1alpha.FieldConfig.Selection.Item",encode(e,i=_m0.Writer.create()){return e.label!==""&&i.uint32(10).string(e.label),e.value!==""&&i.uint32(18).string(e.value),i},decode(e,i){const n=e instanceof _m0.Reader?e:_m0.Reader.create(e);let o=i===void 0?n.len:n.pos+i;const r=createBaseFieldConfig_Selection_Item();for(;n.pos<o;){const t=n.uint32();switch(t>>>3){case 1:if(t!==10)break;r.label=n.string();continue;case 2:if(t!==18)break;r.value=n.string();continue}if((t&7)===4||t===0)break;n.skipType(t&7)}return r},fromJSON(e){return{label:isSet$3(e.label)?globalThis.String(e.label):"",value:isSet$3(e.value)?globalThis.String(e.value):""}},toJSON(e){const i={};return e.label!==""&&(i.label=e.label),e.value!==""&&(i.value=e.value),i},create(e){return FieldConfig_Selection_Item.fromPartial(e??{})},fromPartial(e){const i=createBaseFieldConfig_Selection_Item();return i.label=e.label??"",i.value=e.value??"",i}};messageTypeRegistry.set(FieldConfig_Selection_Item.$type,FieldConfig_Selection_Item);function createBaseFieldConfig_Group(){return{fields:[]}}const FieldConfig_Group={$type:"devvit.ui.form_builder.v1alpha.FieldConfig.Group",encode(e,i=_m0.Writer.create()){for(const n of e.fields)FormField.encode(n,i.uint32(10).fork()).ldelim();return i},decode(e,i){const n=e instanceof _m0.Reader?e:_m0.Reader.create(e);let o=i===void 0?n.len:n.pos+i;const r=createBaseFieldConfig_Group();for(;n.pos<o;){const t=n.uint32();switch(t>>>3){case 1:if(t!==10)break;r.fields.push(FormField.decode(n,n.uint32()));continue}if((t&7)===4||t===0)break;n.skipType(t&7)}return r},fromJSON(e){return{fields:globalThis.Array.isArray(e==null?void 0:e.fields)?e.fields.map(i=>FormField.fromJSON(i)):[]}},toJSON(e){var n;const i={};return(n=e.fields)!=null&&n.length&&(i.fields=e.fields.map(o=>FormField.toJSON(o))),i},create(e){return FieldConfig_Group.fromPartial(e??{})},fromPartial(e){var n;const i=createBaseFieldConfig_Group();return i.fields=((n=e.fields)==null?void 0:n.map(o=>FormField.fromPartial(o)))||[],i}};messageTypeRegistry.set(FieldConfig_Group.$type,FieldConfig_Group);function isSet$3(e){return e!=null}function createBaseForm(){return{fields:[],title:void 0,shortDescription:void 0,acceptLabel:void 0,cancelLabel:void 0,id:void 0}}const Form={$type:"devvit.ui.form_builder.v1alpha.Form",encode(e,i=_m0.Writer.create()){for(const n of e.fields)FormField.encode(n,i.uint32(10).fork()).ldelim();return e.title!==void 0&&i.uint32(18).string(e.title),e.shortDescription!==void 0&&i.uint32(26).string(e.shortDescription),e.acceptLabel!==void 0&&i.uint32(34).string(e.acceptLabel),e.cancelLabel!==void 0&&i.uint32(42).string(e.cancelLabel),e.id!==void 0&&i.uint32(50).string(e.id),i},decode(e,i){const n=e instanceof _m0.Reader?e:_m0.Reader.create(e);let o=i===void 0?n.len:n.pos+i;const r=createBaseForm();for(;n.pos<o;){const t=n.uint32();switch(t>>>3){case 1:if(t!==10)break;r.fields.push(FormField.decode(n,n.uint32()));continue;case 2:if(t!==18)break;r.title=n.string();continue;case 3:if(t!==26)break;r.shortDescription=n.string();continue;case 4:if(t!==34)break;r.acceptLabel=n.string();continue;case 5:if(t!==42)break;r.cancelLabel=n.string();continue;case 6:if(t!==50)break;r.id=n.string();continue}if((t&7)===4||t===0)break;n.skipType(t&7)}return r},fromJSON(e){return{fields:globalThis.Array.isArray(e==null?void 0:e.fields)?e.fields.map(i=>FormField.fromJSON(i)):[],title:isSet$2(e.title)?globalThis.String(e.title):void 0,shortDescription:isSet$2(e.shortDescription)?globalThis.String(e.shortDescription):void 0,acceptLabel:isSet$2(e.acceptLabel)?globalThis.String(e.acceptLabel):void 0,cancelLabel:isSet$2(e.cancelLabel)?globalThis.String(e.cancelLabel):void 0,id:isSet$2(e.id)?globalThis.String(e.id):void 0}},toJSON(e){var n;const i={};return(n=e.fields)!=null&&n.length&&(i.fields=e.fields.map(o=>FormField.toJSON(o))),e.title!==void 0&&(i.title=e.title),e.shortDescription!==void 0&&(i.shortDescription=e.shortDescription),e.acceptLabel!==void 0&&(i.acceptLabel=e.acceptLabel),e.cancelLabel!==void 0&&(i.cancelLabel=e.cancelLabel),e.id!==void 0&&(i.id=e.id),i},create(e){return Form.fromPartial(e??{})},fromPartial(e){var n;const i=createBaseForm();return i.fields=((n=e.fields)==null?void 0:n.map(o=>FormField.fromPartial(o)))||[],i.title=e.title??void 0,i.shortDescription=e.shortDescription??void 0,i.acceptLabel=e.acceptLabel??void 0,i.cancelLabel=e.cancelLabel??void 0,i.id=e.id??void 0,i}};messageTypeRegistry.set(Form.$type,Form);function isSet$2(e){return e!=null}function createBaseShowFormEffect(){return{form:void 0}}const ShowFormEffect={$type:"devvit.ui.effects.v1alpha.ShowFormEffect",encode(e,i=_m0.Writer.create()){return e.form!==void 0&&Form.encode(e.form,i.uint32(10).fork()).ldelim(),i},decode(e,i){const n=e instanceof _m0.Reader?e:_m0.Reader.create(e);let o=i===void 0?n.len:n.pos+i;const r=createBaseShowFormEffect();for(;n.pos<o;){const t=n.uint32();switch(t>>>3){case 1:if(t!==10)break;r.form=Form.decode(n,n.uint32());continue}if((t&7)===4||t===0)break;n.skipType(t&7)}return r},fromJSON(e){return{form:isSet$1(e.form)?Form.fromJSON(e.form):void 0}},toJSON(e){const i={};return e.form!==void 0&&(i.form=Form.toJSON(e.form)),i},create(e){return ShowFormEffect.fromPartial(e??{})},fromPartial(e){const i=createBaseShowFormEffect();return i.form=e.form!==void 0&&e.form!==null?Form.fromPartial(e.form):void 0,i}};messageTypeRegistry.set(ShowFormEffect.$type,ShowFormEffect);function createBaseFormSubmittedEvent(){return{results:{},formId:void 0}}const FormSubmittedEvent={$type:"devvit.ui.effects.v1alpha.FormSubmittedEvent",encode(e,i=_m0.Writer.create()){return Object.entries(e.results).forEach(([n,o])=>{FormSubmittedEvent_ResultsEntry.encode({key:n,value:o},i.uint32(10).fork()).ldelim()}),e.formId!==void 0&&i.uint32(18).string(e.formId),i},decode(e,i){const n=e instanceof _m0.Reader?e:_m0.Reader.create(e);let o=i===void 0?n.len:n.pos+i;const r=createBaseFormSubmittedEvent();for(;n.pos<o;){const t=n.uint32();switch(t>>>3){case 1:if(t!==10)break;const u=FormSubmittedEvent_ResultsEntry.decode(n,n.uint32());u.value!==void 0&&(r.results[u.key]=u.value);continue;case 2:if(t!==18)break;r.formId=n.string();continue}if((t&7)===4||t===0)break;n.skipType(t&7)}return r},fromJSON(e){return{results:isObject(e.results)?Object.entries(e.results).reduce((i,[n,o])=>(i[n]=FormFieldValue.fromJSON(o),i),{}):{},formId:isSet$1(e.formId)?globalThis.String(e.formId):void 0}},toJSON(e){const i={};if(e.results){const n=Object.entries(e.results);n.length>0&&(i.results={},n.forEach(([o,r])=>{i.results[o]=FormFieldValue.toJSON(r)}))}return e.formId!==void 0&&(i.formId=e.formId),i},create(e){return FormSubmittedEvent.fromPartial(e??{})},fromPartial(e){const i=createBaseFormSubmittedEvent();return i.results=Object.entries(e.results??{}).reduce((n,[o,r])=>(r!==void 0&&(n[o]=FormFieldValue.fromPartial(r)),n),{}),i.formId=e.formId??void 0,i}};messageTypeRegistry.set(FormSubmittedEvent.$type,FormSubmittedEvent);function createBaseFormSubmittedEvent_ResultsEntry(){return{key:"",value:void 0}}const FormSubmittedEvent_ResultsEntry={$type:"devvit.ui.effects.v1alpha.FormSubmittedEvent.ResultsEntry",encode(e,i=_m0.Writer.create()){return e.key!==""&&i.uint32(10).string(e.key),e.value!==void 0&&FormFieldValue.encode(e.value,i.uint32(18).fork()).ldelim(),i},decode(e,i){const n=e instanceof _m0.Reader?e:_m0.Reader.create(e);let o=i===void 0?n.len:n.pos+i;const r=createBaseFormSubmittedEvent_ResultsEntry();for(;n.pos<o;){const t=n.uint32();switch(t>>>3){case 1:if(t!==10)break;r.key=n.string();continue;case 2:if(t!==18)break;r.value=FormFieldValue.decode(n,n.uint32());continue}if((t&7)===4||t===0)break;n.skipType(t&7)}return r},fromJSON(e){return{key:isSet$1(e.key)?globalThis.String(e.key):"",value:isSet$1(e.value)?FormFieldValue.fromJSON(e.value):void 0}},toJSON(e){const i={};return e.key!==""&&(i.key=e.key),e.value!==void 0&&(i.value=FormFieldValue.toJSON(e.value)),i},create(e){return FormSubmittedEvent_ResultsEntry.fromPartial(e??{})},fromPartial(e){const i=createBaseFormSubmittedEvent_ResultsEntry();return i.key=e.key??"",i.value=e.value!==void 0&&e.value!==null?FormFieldValue.fromPartial(e.value):void 0,i}};messageTypeRegistry.set(FormSubmittedEvent_ResultsEntry.$type,FormSubmittedEvent_ResultsEntry);function createBaseFormCanceledEvent(){return{formId:void 0}}const FormCanceledEvent={$type:"devvit.ui.effects.v1alpha.FormCanceledEvent",encode(e,i=_m0.Writer.create()){return e.formId!==void 0&&i.uint32(10).string(e.formId),i},decode(e,i){const n=e instanceof _m0.Reader?e:_m0.Reader.create(e);let o=i===void 0?n.len:n.pos+i;const r=createBaseFormCanceledEvent();for(;n.pos<o;){const t=n.uint32();switch(t>>>3){case 1:if(t!==10)break;r.formId=n.string();continue}if((t&7)===4||t===0)break;n.skipType(t&7)}return r},fromJSON(e){return{formId:isSet$1(e.formId)?globalThis.String(e.formId):void 0}},toJSON(e){const i={};return e.formId!==void 0&&(i.formId=e.formId),i},create(e){return FormCanceledEvent.fromPartial(e??{})},fromPartial(e){const i=createBaseFormCanceledEvent();return i.formId=e.formId??void 0,i}};messageTypeRegistry.set(FormCanceledEvent.$type,FormCanceledEvent);function isObject(e){return typeof e=="object"&&e!==null}function isSet$1(e){return e!=null}var WebViewVisibility;(function(e){e[e.WEBVIEW_VISIBLE=0]="WEBVIEW_VISIBLE",e[e.WEBVIEW_HIDDEN=1]="WEBVIEW_HIDDEN",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(WebViewVisibility||(WebViewVisibility={}));function webViewVisibilityFromJSON(e){switch(e){case 0:case"WEBVIEW_VISIBLE":return WebViewVisibility.WEBVIEW_VISIBLE;case 1:case"WEBVIEW_HIDDEN":return WebViewVisibility.WEBVIEW_HIDDEN;case-1:case"UNRECOGNIZED":default:return WebViewVisibility.UNRECOGNIZED}}function webViewVisibilityToJSON(e){switch(e){case WebViewVisibility.WEBVIEW_VISIBLE:return 0;case WebViewVisibility.WEBVIEW_HIDDEN:return 1;case WebViewVisibility.UNRECOGNIZED:default:return-1}}function createBaseWebViewPostMessageEvent(){return{message:void 0,jsonString:""}}const WebViewPostMessageEvent={$type:"devvit.ui.events.v1alpha.WebViewPostMessageEvent",encode(e,i=_m0.Writer.create()){return e.message!==void 0&&Value.encode(Value.wrap(e.message),i.uint32(10).fork()).ldelim(),e.jsonString!==""&&i.uint32(18).string(e.jsonString),i},decode(e,i){const n=e instanceof _m0.Reader?e:_m0.Reader.create(e);let o=i===void 0?n.len:n.pos+i;const r=createBaseWebViewPostMessageEvent();for(;n.pos<o;){const t=n.uint32();switch(t>>>3){case 1:if(t!==10)break;r.message=Value.unwrap(Value.decode(n,n.uint32()));continue;case 2:if(t!==18)break;r.jsonString=n.string();continue}if((t&7)===4||t===0)break;n.skipType(t&7)}return r},fromJSON(e){return{message:isSet(e==null?void 0:e.message)?e.message:void 0,jsonString:isSet(e.jsonString)?globalThis.String(e.jsonString):""}},toJSON(e){const i={};return e.message!==void 0&&(i.message=e.message),e.jsonString!==""&&(i.jsonString=e.jsonString),i},create(e){return WebViewPostMessageEvent.fromPartial(e??{})},fromPartial(e){const i=createBaseWebViewPostMessageEvent();return i.message=e.message??void 0,i.jsonString=e.jsonString??"",i}};messageTypeRegistry.set(WebViewPostMessageEvent.$type,WebViewPostMessageEvent);function createBaseWebViewFullScreenEvent(){return{visibility:0}}const WebViewFullScreenEvent={$type:"devvit.ui.events.v1alpha.WebViewFullScreenEvent",encode(e,i=_m0.Writer.create()){return e.visibility!==0&&i.uint32(8).int32(e.visibility),i},decode(e,i){const n=e instanceof _m0.Reader?e:_m0.Reader.create(e);let o=i===void 0?n.len:n.pos+i;const r=createBaseWebViewFullScreenEvent();for(;n.pos<o;){const t=n.uint32();switch(t>>>3){case 1:if(t!==8)break;r.visibility=n.int32();continue}if((t&7)===4||t===0)break;n.skipType(t&7)}return r},fromJSON(e){return{visibility:isSet(e.visibility)?webViewVisibilityFromJSON(e.visibility):0}},toJSON(e){const i={};return e.visibility!==0&&(i.visibility=webViewVisibilityToJSON(e.visibility)),i},create(e){return WebViewFullScreenEvent.fromPartial(e??{})},fromPartial(e){const i=createBaseWebViewFullScreenEvent();return i.visibility=e.visibility??0,i}};messageTypeRegistry.set(WebViewFullScreenEvent.$type,WebViewFullScreenEvent);function createBaseWebViewEvent(){return{postMessage:void 0,fullScreen:void 0}}const WebViewEvent={$type:"devvit.ui.events.v1alpha.WebViewEvent",encode(e,i=_m0.Writer.create()){return e.postMessage!==void 0&&WebViewPostMessageEvent.encode(e.postMessage,i.uint32(10).fork()).ldelim(),e.fullScreen!==void 0&&WebViewFullScreenEvent.encode(e.fullScreen,i.uint32(18).fork()).ldelim(),i},decode(e,i){const n=e instanceof _m0.Reader?e:_m0.Reader.create(e);let o=i===void 0?n.len:n.pos+i;const r=createBaseWebViewEvent();for(;n.pos<o;){const t=n.uint32();switch(t>>>3){case 1:if(t!==10)break;r.postMessage=WebViewPostMessageEvent.decode(n,n.uint32());continue;case 2:if(t!==18)break;r.fullScreen=WebViewFullScreenEvent.decode(n,n.uint32());continue}if((t&7)===4||t===0)break;n.skipType(t&7)}return r},fromJSON(e){return{postMessage:isSet(e.postMessage)?WebViewPostMessageEvent.fromJSON(e.postMessage):void 0,fullScreen:isSet(e.fullScreen)?WebViewFullScreenEvent.fromJSON(e.fullScreen):void 0}},toJSON(e){const i={};return e.postMessage!==void 0&&(i.postMessage=WebViewPostMessageEvent.toJSON(e.postMessage)),e.fullScreen!==void 0&&(i.fullScreen=WebViewFullScreenEvent.toJSON(e.fullScreen)),i},create(e){return WebViewEvent.fromPartial(e??{})},fromPartial(e){const i=createBaseWebViewEvent();return i.postMessage=e.postMessage!==void 0&&e.postMessage!==null?WebViewPostMessageEvent.fromPartial(e.postMessage):void 0,i.fullScreen=e.fullScreen!==void 0&&e.fullScreen!==null?WebViewFullScreenEvent.fromPartial(e.fullScreen):void 0,i}};messageTypeRegistry.set(WebViewEvent.$type,WebViewEvent);function createBaseWebViewInternalEventMessage(){return{id:"",formCanceled:void 0,formSubmitted:void 0,realtimeEvent:void 0}}const WebViewInternalEventMessage={$type:"devvit.ui.events.v1alpha.WebViewInternalEventMessage",encode(e,i=_m0.Writer.create()){return e.id!==""&&i.uint32(10).string(e.id),e.formCanceled!==void 0&&FormCanceledEvent.encode(e.formCanceled,i.uint32(18).fork()).ldelim(),e.formSubmitted!==void 0&&FormSubmittedEvent.encode(e.formSubmitted,i.uint32(26).fork()).ldelim(),e.realtimeEvent!==void 0&&RealtimeSubscriptionEvent.encode(e.realtimeEvent,i.uint32(34).fork()).ldelim(),i},decode(e,i){const n=e instanceof _m0.Reader?e:_m0.Reader.create(e);let o=i===void 0?n.len:n.pos+i;const r=createBaseWebViewInternalEventMessage();for(;n.pos<o;){const t=n.uint32();switch(t>>>3){case 1:if(t!==10)break;r.id=n.string();continue;case 2:if(t!==18)break;r.formCanceled=FormCanceledEvent.decode(n,n.uint32());continue;case 3:if(t!==26)break;r.formSubmitted=FormSubmittedEvent.decode(n,n.uint32());continue;case 4:if(t!==34)break;r.realtimeEvent=RealtimeSubscriptionEvent.decode(n,n.uint32());continue}if((t&7)===4||t===0)break;n.skipType(t&7)}return r},fromJSON(e){return{id:isSet(e.id)?globalThis.String(e.id):"",formCanceled:isSet(e.formCanceled)?FormCanceledEvent.fromJSON(e.formCanceled):void 0,formSubmitted:isSet(e.formSubmitted)?FormSubmittedEvent.fromJSON(e.formSubmitted):void 0,realtimeEvent:isSet(e.realtimeEvent)?RealtimeSubscriptionEvent.fromJSON(e.realtimeEvent):void 0}},toJSON(e){const i={};return e.id!==""&&(i.id=e.id),e.formCanceled!==void 0&&(i.formCanceled=FormCanceledEvent.toJSON(e.formCanceled)),e.formSubmitted!==void 0&&(i.formSubmitted=FormSubmittedEvent.toJSON(e.formSubmitted)),e.realtimeEvent!==void 0&&(i.realtimeEvent=RealtimeSubscriptionEvent.toJSON(e.realtimeEvent)),i},create(e){return WebViewInternalEventMessage.fromPartial(e??{})},fromPartial(e){const i=createBaseWebViewInternalEventMessage();return i.id=e.id??"",i.formCanceled=e.formCanceled!==void 0&&e.formCanceled!==null?FormCanceledEvent.fromPartial(e.formCanceled):void 0,i.formSubmitted=e.formSubmitted!==void 0&&e.formSubmitted!==null?FormSubmittedEvent.fromPartial(e.formSubmitted):void 0,i.realtimeEvent=e.realtimeEvent!==void 0&&e.realtimeEvent!==null?RealtimeSubscriptionEvent.fromPartial(e.realtimeEvent):void 0,i}};messageTypeRegistry.set(WebViewInternalEventMessage.$type,WebViewInternalEventMessage);function isSet(e){return e!=null}const EFFECTS_WITH_RESPONSE=[3],emitEffect=e=>new Promise(i=>{const n={scope:0,type:"devvit-internal"};if(e.realtimeSubscriptions?n.realtimeEffect=e.realtimeSubscriptions:n.effect=e,EFFECTS_WITH_RESPONSE.includes(e.type)){const o=self.crypto.randomUUID();n.id=o;const r=t=>{var u,a,l;if(((u=t.data)==null?void 0:u.type)==="devvit-message"&&((l=(a=t.data)==null?void 0:a.data)==null?void 0:l.id)===o){const c=WebViewInternalEventMessage.fromJSON(t.data.data);i(c),window.removeEventListener("message",r)}};window.addEventListener("message",r),window.parent.postMessage(n,"*")}else window.parent.postMessage(n,"*"),i(void 0)});function navigateTo(e){let i;typeof e=="string"?i=new URL(e).toString():i=new URL(e.url).toString(),emitEffect({navigateToUrl:{url:i},type:5})}function assertValidFormFields(e,i=new Set){for(const n of e){if(n.type==="group"){assertValidFormFields(n.fields,i);continue}const o=n.name;if(i.has(o))throw new Error(`Duplicate field name: ${o}`);i.add(o)}assertAppSecretsOnly(e)}function assertAppSecretsOnly(e){for(const i of e)if(i.type==="string"&&i.isSecret&&i.scope!=="app")throw`Invalid setting: only app settings can be secrets. Add "scope: SettingScope.App" to field "${i.name}"`}function flattenFormFieldValue(e){var i;switch(e.fieldType){case 0:return e.stringValue;case 7:return e.stringValue;case 1:return e.stringValue;case 2:return e.numberValue;case 3:return e.boolValue;case 5:return((i=e.selectionValue)==null?void 0:i.values)??[];default:return}}function getFormValues(e){return Object.keys(e).reduce((i,n)=>{const o=flattenFormFieldValue(e[n]);return o!==void 0&&(i[n]=o),i},{})}function transformFormFields(e){return e.map(i=>{switch(i.type){case"string":return transformStringField(i);case"image":return transformImageField(i);case"paragraph":return transformParagraphField(i);case"number":return transformNumberField(i);case"select":return transformSelectField(i);case"boolean":return transformBooleanField(i);case"group":return transformGroupField(i);default:throw new Error("Unknown field type.")}})}function transformStringField(e){return{defaultValue:{fieldType:0,stringValue:e.defaultValue},disabled:e.disabled,fieldConfig:{stringConfig:{placeholder:e.placeholder}},fieldId:e.name,fieldType:0,helpText:e.helpText,label:e.label,required:e.required,isSecret:e.isSecret}}function transformImageField(e){return{disabled:e.disabled,fieldId:e.name,fieldType:7,helpText:e.helpText,label:e.label,required:e.required}}function transformParagraphField(e){return{defaultValue:{fieldType:1,stringValue:e.defaultValue},disabled:e.disabled,fieldConfig:{paragraphConfig:{lineHeight:e.lineHeight,placeholder:e.placeholder}},fieldId:e.name,fieldType:1,helpText:e.helpText,label:e.label,required:e.required}}function transformNumberField(e){return{defaultValue:{fieldType:2,numberValue:e.defaultValue},disabled:e.disabled,fieldConfig:{numberConfig:{}},fieldId:e.name,fieldType:2,helpText:e.helpText,label:e.label,required:e.required}}function transformSelectField(e){return{defaultValue:{fieldType:5,selectionValue:{values:e.defaultValue??[]}},disabled:e.disabled,fieldConfig:{selectionConfig:{choices:e.options,multiSelect:e.multiSelect}},fieldId:e.name,fieldType:5,helpText:e.helpText,label:e.label,required:e.required}}function transformBooleanField(e){return{defaultValue:{fieldType:3,boolValue:e.defaultValue},disabled:e.disabled,fieldId:e.name,fieldType:3,helpText:e.helpText,label:e.label}}function transformGroupField(e){return{fieldId:"",fieldType:6,fieldConfig:{groupConfig:{fields:transformFormFields(e.fields)}},label:e.label,helpText:e.helpText}}let _formKey=1;const getNextFormKey=()=>(_formKey++,`form.${_formKey}`),showForm=async e=>{const i={fields:[],id:getNextFormKey(),title:e.title,acceptLabel:e.acceptLabel,cancelLabel:e.cancelLabel,shortDescription:e.description};assertValidFormFields(e.fields),i.fields=transformFormFields(e.fields);const n=await emitEffect({showForm:{form:i},type:3});return!n||!n.formSubmitted?{action:"CANCELED"}:{action:"SUBMITTED",values:getFormValues(n.formSubmitted.results)}};function showToast(e){let i;e instanceof Object?i={text:e.text,appearance:e.appearance==="success"?1:0}:i={text:e},emitEffect({showToast:{toast:i},type:4})}window.Devvit={ui:{navigateTo,showToast,showForm}};
//# sourceMappingURL=index-DSWsO1eb.js.map
